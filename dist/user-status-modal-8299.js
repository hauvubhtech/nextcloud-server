"use strict";(self.webpackChunknextcloud=self.webpackChunknextcloud||[]).push([[8299],{54840:function(n,t,e){var s=e(87537),a=e.n(s),r=e(23645),i=e.n(r)()(a());i.push([n.id,".clear-at-select[data-v-16308054]{display:flex;margin-bottom:10px;align-items:center}.clear-at-select__label[data-v-16308054]{margin-right:10px}.clear-at-select .multiselect[data-v-16308054]{flex-grow:1;min-width:130px}","",{version:3,sources:["webpack://./apps/user_status/src/components/ClearAtSelect.vue"],names:[],mappings:"AAuFA,kCACC,YAAA,CACA,kBAAA,CACA,kBAAA,CAEA,yCACC,iBAAA,CAGD,+CACC,WAAA,CACA,eAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.clear-at-select {\r\n\tdisplay: flex;\r\n\tmargin-bottom: 10px;\r\n\talign-items: center;\r\n\r\n\t&__label {\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t.multiselect {\r\n\t\tflex-grow: 1;\r\n\t\tmin-width: 130px;\r\n\t}\r\n}\r\n"],sourceRoot:""}]),t.Z=i},15198:function(n,t,e){var s=e(87537),a=e.n(s),r=e(23645),i=e.n(r)()(a());i.push([n.id,".custom-input__form[data-v-f8ff5dac]{flex-grow:1;position:relative}.custom-input__form .v-popper[data-v-f8ff5dac]{position:absolute}.custom-input__form input[data-v-f8ff5dac]{width:100%;border-radius:0 var(--border-radius) var(--border-radius) 0;padding-left:44px !important}","",{version:3,sources:["webpack://./apps/user_status/src/components/CustomMessageInput.vue"],names:[],mappings:"AAmHA,qCACC,WAAA,CACA,iBAAA,CAEA,+CACC,iBAAA,CAGD,2CACC,UAAA,CACA,2DAAA,CACA,4BAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.custom-input__form {\r\n\tflex-grow: 1;\r\n\tposition: relative;\r\n\r\n\t.v-popper {\r\n\t\tposition: absolute;\r\n\t}\r\n\r\n\tinput {\r\n\t\twidth: 100%;\r\n\t\tborder-radius: 0 var(--border-radius) var(--border-radius) 0;\r\n\t\tpadding-left: 44px !important;\r\n\t}\r\n}\r\n"],sourceRoot:""}]),t.Z=i},84988:function(n,t,e){var s=e(87537),a=e.n(s),r=e(23645),i=e.n(r)()(a());i.push([n.id,".user-status-online-select__input[data-v-08b51a17]{position:absolute;top:auto;left:-10000px;overflow:hidden;width:1px;height:1px}.user-status-online-select__label[data-v-08b51a17]{position:relative;display:block;margin:8px;padding:8px;padding-left:40px;border:2px solid var(--color-main-background);border-radius:var(--border-radius-large);background-color:var(--color-background-hover);background-position:8px center;background-size:24px}.user-status-online-select__label span[data-v-08b51a17],.user-status-online-select__label[data-v-08b51a17]{cursor:pointer}.user-status-online-select__label span[data-v-08b51a17]{position:absolute;top:calc(50% - 12px);left:8px;display:block;width:24px;height:24px}.user-status-online-select__input:checked+.user-status-online-select__label[data-v-08b51a17],.user-status-online-select__input:focus+.user-status-online-select__label[data-v-08b51a17],.user-status-online-select__label[data-v-08b51a17]:hover{border-color:var(--color-primary)}.user-status-online-select__subline[data-v-08b51a17]{display:block;color:var(--color-text-lighter)}","",{version:3,sources:["webpack://./apps/user_status/src/components/OnlineStatusSelect.vue"],names:[],mappings:"AAqFC,mDACC,iBAAA,CACA,QAAA,CACA,aAAA,CACA,eAAA,CACA,SAAA,CACA,UAAA,CAGD,mDACC,iBAAA,CACA,aAAA,CACA,UAhBc,CAiBd,WAjBc,CAkBd,iBAAA,CACA,6CAAA,CACA,wCAAA,CACA,8CAAA,CACA,8BAAA,CACA,oBAxBU,CA0BV,2GAEC,cAAA,CAGD,wDACC,iBAAA,CACA,oBAAA,CACA,QAjCa,CAkCb,aAAA,CACA,UApCS,CAqCT,WArCS,CAyCX,iPAGC,iCAAA,CAGD,qDACC,aAAA,CACA,+BAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n@use 'sass:math';\r\n$icon-size: 24px;\r\n$label-padding: 8px;\r\n\r\n.user-status-online-select {\r\n\t// Inputs are here for keyboard navigation, they are not visually visible\r\n\t&__input {\r\n\t\tposition: absolute;\r\n\t\ttop: auto;\r\n\t\tleft: -10000px;\r\n\t\toverflow: hidden;\r\n\t\twidth: 1px;\r\n\t\theight: 1px;\r\n\t}\r\n\r\n\t&__label {\r\n\t\tposition: relative;\r\n\t\tdisplay: block;\r\n\t\tmargin: $label-padding;\r\n\t\tpadding: $label-padding;\r\n\t\tpadding-left: $icon-size + $label-padding * 2;\r\n\t\tborder: 2px solid var(--color-main-background);\r\n\t\tborder-radius: var(--border-radius-large);\r\n\t\tbackground-color: var(--color-background-hover);\r\n\t\tbackground-position: $label-padding center;\r\n\t\tbackground-size: $icon-size;\r\n\r\n\t\tspan,\r\n\t\t& {\r\n\t\t\tcursor: pointer;\r\n\t\t}\r\n\r\n\t\tspan {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: calc(50% - math.div($icon-size, 2));\r\n\t\t\tleft: $label-padding;\r\n\t\t\tdisplay: block;\r\n\t\t\twidth: $icon-size;\r\n\t\t\theight: $icon-size;\r\n\t\t}\r\n\t}\r\n\r\n\t&__input:checked + &__label,\r\n\t&__input:focus + &__label,\r\n\t&__label:hover {\r\n\t\tborder-color: var(--color-primary);\r\n\t}\r\n\r\n\t&__subline {\r\n\t\tdisplay: block;\r\n\t\tcolor: var(--color-text-lighter);\r\n\t}\r\n}\r\n\r\n"],sourceRoot:""}]),t.Z=i},99026:function(n,t,e){var s=e(87537),a=e.n(s),r=e(23645),i=e.n(r)()(a());i.push([n.id,'.predefined-status[data-v-2b4a822e]{display:flex;flex-wrap:nowrap;justify-content:flex-start;flex-basis:100%;border-radius:var(--border-radius);align-items:center;min-height:44px}.predefined-status[data-v-2b4a822e]:hover,.predefined-status[data-v-2b4a822e]:focus{background-color:var(--color-background-hover)}.predefined-status__icon[data-v-2b4a822e]{flex-basis:40px;text-align:center}.predefined-status__message[data-v-2b4a822e]{font-weight:bold;padding:0 6px}.predefined-status__clear-at[data-v-2b4a822e]{opacity:.7}.predefined-status__clear-at[data-v-2b4a822e]::before{content:" – "}',"",{version:3,sources:["webpack://./PredefinedStatus.vue","webpack://./apps/user_status/src/components/PredefinedStatus.vue"],names:[],mappings:"AAAA,oCC6EA,YACC,CAAA,gBACA,CAAA,0BACA,CAAA,eACA,CAAA,kCACA,CAAA,kBACA,CAAA,eACA,CAAA,oFAEA,8CAEC,CAAA,0CAGD,eACC,CAAA,iBACA,CAAA,6CAGD,gBACC,CAAA,aACA,CAAA,8CAGD,UACC,CAAA,sDAEA,aACC",sourcesContent:['.predefined-status{display:flex;flex-wrap:nowrap;justify-content:flex-start;flex-basis:100%;border-radius:var(--border-radius);align-items:center;min-height:44px}.predefined-status:hover,.predefined-status:focus{background-color:var(--color-background-hover)}.predefined-status__icon{flex-basis:40px;text-align:center}.predefined-status__message{font-weight:bold;padding:0 6px}.predefined-status__clear-at{opacity:.7}.predefined-status__clear-at::before{content:" – "}',"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.predefined-status {\r\n\tdisplay: flex;\r\n\tflex-wrap: nowrap;\r\n\tjustify-content: flex-start;\r\n\tflex-basis: 100%;\r\n\tborder-radius: var(--border-radius);\r\n\talign-items: center;\r\n\tmin-height: 44px;\r\n\r\n\t&:hover,\r\n\t&:focus {\r\n\t\tbackground-color: var(--color-background-hover);\r\n\t}\r\n\r\n\t&__icon {\r\n\t\tflex-basis: 40px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t&__message {\r\n\t\tfont-weight: bold;\r\n\t\tpadding: 0 6px;\r\n\t}\r\n\r\n\t&__clear-at {\r\n\t\topacity: .7;\r\n\r\n\t\t&::before {\r\n\t\t\tcontent: ' – ';\r\n\t\t}\r\n\t}\r\n}\r\n"],sourceRoot:""}]),t.Z=i},98083:function(n,t,e){var s=e(87537),a=e.n(s),r=e(23645),i=e.n(r)()(a());i.push([n.id,".predefined-statuses-list[data-v-31790e1a]{display:flex;flex-direction:column;margin-bottom:10px}","",{version:3,sources:["webpack://./apps/user_status/src/components/PredefinedStatusesList.vue"],names:[],mappings:"AAiFA,2CACC,YAAA,CACA,qBAAA,CACA,kBAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.predefined-statuses-list {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmargin-bottom: 10px;\r\n}\r\n"],sourceRoot:""}]),t.Z=i},73992:function(n,t,e){var s=e(87537),a=e.n(s),r=e(23645),i=e.n(r)()(a());i.push([n.id,".set-status-modal[data-v-1a4980a2]{padding:8px 20px 20px 20px}.set-status-modal__header[data-v-1a4980a2]{text-align:center;font-weight:bold}.set-status-modal__online-status[data-v-1a4980a2]{display:grid;margin-bottom:40px;grid-template-columns:1fr 1fr}.set-status-modal__custom-input[data-v-1a4980a2]{display:flex;width:100%;margin-bottom:10px}.set-status-modal__custom-input .custom-input__emoji-button[data-v-1a4980a2]{flex-basis:40px;flex-grow:0;width:40px;height:34px;margin-right:0;border-right:none;border-radius:var(--border-radius) 0 0 var(--border-radius)}.set-status-modal .status-buttons[data-v-1a4980a2]{display:flex;padding:3px;padding-left:0;gap:3px}@media only screen and (max-width: 500px){.set-status-modal__online-status[data-v-1a4980a2]{grid-template-columns:none !important}}","",{version:3,sources:["webpack://./apps/user_status/src/components/SetStatusModal.vue"],names:[],mappings:"AAsOA,mCACC,0BAAA,CAEA,2CACC,iBAAA,CACA,gBAAA,CAGD,kDACC,YAAA,CAEA,kBAAA,CACA,6BAAA,CAGD,iDACC,YAAA,CACA,UAAA,CACA,kBAAA,CAEA,6EACC,eAAA,CACA,WAAA,CACA,UAAA,CACA,WAAA,CACA,cAAA,CACA,iBAAA,CACA,2DAAA,CAIF,mDACC,YAAA,CACA,WAAA,CACA,cAAA,CACA,OAAA,CAIF,0CACC,kDACC,qCAAA,CAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n\r\n.set-status-modal {\r\n\tpadding: 8px 20px 20px 20px;\r\n\r\n\t&__header {\r\n\t\ttext-align: center;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t&__online-status {\r\n\t\tdisplay: grid;\r\n\t\t// Space between the two sections\r\n\t\tmargin-bottom: 40px;\r\n\t\tgrid-template-columns: 1fr 1fr;\r\n\t}\r\n\r\n\t&__custom-input {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tmargin-bottom: 10px;\r\n\r\n\t\t.custom-input__emoji-button {\r\n\t\t\tflex-basis: 40px;\r\n\t\t\tflex-grow: 0;\r\n\t\t\twidth: 40px;\r\n\t\t\theight: 34px;\r\n\t\t\tmargin-right: 0;\r\n\t\t\tborder-right: none;\r\n\t\t\tborder-radius: var(--border-radius) 0 0 var(--border-radius);\r\n\t\t}\r\n\t}\r\n\r\n\t.status-buttons {\r\n\t\tdisplay: flex;\r\n\t\tpadding: 3px;\r\n\t\tpadding-left:0;\r\n\t\tgap: 3px;\r\n\t}\r\n}\r\n\r\n@media only screen and (max-width: 500px) {\r\n\t.set-status-modal__online-status {\r\n\t\tgrid-template-columns: none !important;\r\n\t}\r\n}\r\n\r\n"],sourceRoot:""}]),t.Z=i},3765:function(n,t,e){e.r(t),e.d(t,{default:function(){return Cn}});var s=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("NcModal",{attrs:{size:"normal",title:n.$t("user_status","Set status")},on:{close:n.closeModal}},[e("div",{staticClass:"set-status-modal"},[e("div",{staticClass:"set-status-modal__header"},[e("h3",[n._v(n._s(n.$t("user_status","Online status")))])]),n._v(" "),e("div",{staticClass:"set-status-modal__online-status"},n._l(n.statuses,(function(t){return e("OnlineStatusSelect",n._b({key:t.type,attrs:{checked:t.type===n.statusType},on:{select:n.changeStatus}},"OnlineStatusSelect",t,!1))})),1),n._v(" "),e("div",{staticClass:"set-status-modal__header"},[e("h3",[n._v(n._s(n.$t("user_status","Status message")))])]),n._v(" "),e("div",{staticClass:"set-status-modal__custom-input"},[e("CustomMessageInput",{ref:"customMessageInput",attrs:{icon:n.icon,message:n.message},on:{change:n.setMessage,submit:n.saveStatus,"select-icon":n.setIcon}})],1),n._v(" "),e("PredefinedStatusesList",{on:{"select-status":n.selectPredefinedMessage}}),n._v(" "),e("ClearAtSelect",{attrs:{"clear-at":n.clearAt},on:{"select-clear-at":n.setClearAt}}),n._v(" "),e("div",{staticClass:"status-buttons"},[e("NcButton",{attrs:{wide:!0,type:"tertiary",text:n.$t("user_status","Clear status message"),disabled:n.isSavingStatus},on:{click:n.clearStatus}},[n._v("\n\t\t\t\t"+n._s(n.$t("user_status","Clear status message"))+"\n\t\t\t")]),n._v(" "),e("NcButton",{attrs:{wide:!0,type:"primary",text:n.$t("user_status","Set status message"),disabled:n.isSavingStatus},on:{click:n.saveStatus}},[n._v("\n\t\t\t\t"+n._s(n.$t("user_status","Set status message"))+"\n\t\t\t")])],1)],1)])};s._withStripped=!0;var a=e(26932),r=e(70110),i=e.n(r),o=e(10861),l=e.n(o),u=e(9944),c=e(84387),d=function(){var n=this,t=n.$createElement,e=n._self._c||t;return n.hasLoaded?e("div",{staticClass:"predefined-statuses-list"},n._l(n.predefinedStatuses,(function(t){return e("PredefinedStatus",{key:t.id,attrs:{"message-id":t.id,icon:t.icon,message:t.message,"clear-at":t.clearAt},on:{select:function(e){return n.selectStatus(t)}}})})),1):e("div",{staticClass:"predefined-statuses-list"},[e("div",{staticClass:"icon icon-loading-small"})])};d._withStripped=!0;var A=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"predefined-status",attrs:{tabindex:"0"},on:{keyup:[function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.select.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:n.select.apply(null,arguments)}],click:n.select}},[e("span",{staticClass:"predefined-status__icon"},[n._v("\n\t\t"+n._s(n.icon)+"\n\t")]),n._v(" "),e("span",{staticClass:"predefined-status__message"},[n._v("\n\t\t"+n._s(n.message)+"\n\t")]),n._v(" "),e("span",{staticClass:"predefined-status__clear-at"},[n._v("\n\t\t"+n._s(n._f("clearAtFilter")(n.clearAt))+"\n\t")])])};A._withStripped=!0;var p=e(80351),m=e.n(p),f=e(64039),C=function(n){if(null===n)return(0,u.translate)("user_status","Don't clear");if("end-of"===n.type)switch(n.time){case"day":return(0,u.translate)("user_status","Today");case"week":return(0,u.translate)("user_status","This week");default:return null}if("period"===n.type)return m().duration(1e3*n.time).humanize();if("_time"===n.type){var t=m()((0,f.n)()),e=m()(n.time,"X");return m().duration(t.diff(e)).humanize()}return null},_={name:"PredefinedStatus",filters:{clearAtFilter:C},props:{messageId:{type:String,required:!0},icon:{type:String,required:!0},message:{type:String,required:!0},clearAt:{type:Object,required:!1,default:null}},methods:{select:function(){this.$emit("select")}}},b=e(93379),g=e.n(b),v=e(7795),h=e.n(v),x=e(90569),y=e.n(x),S=e(3565),k=e.n(S),w=e(19216),$=e.n(w),B=e(44589),P=e.n(B),Z=e(99026),I={};I.styleTagTransform=P(),I.setAttributes=k(),I.insert=y().bind(null,"head"),I.domAPI=h(),I.insertStyleElement=$(),g()(Z.Z,I),Z.Z&&Z.Z.locals&&Z.Z.locals;var O=e(51900),E=(0,O.Z)(_,A,[],!1,null,"2b4a822e",null);function D(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,s)}return e}function M(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?D(Object(e),!0).forEach((function(t){j(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):D(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function j(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}E.options.__file="apps/user_status/src/components/PredefinedStatus.vue";var T={name:"PredefinedStatusesList",components:{PredefinedStatus:E.exports},computed:M(M({},(0,e(20629).rn)({predefinedStatuses:function(n){return n.predefinedStatuses.predefinedStatuses}})),{},{hasLoaded:function(){return this.predefinedStatuses.length>0}}),mounted:function(){this.$store.dispatch("loadAllPredefinedStatuses")},methods:{selectStatus:function(n){this.$emit("select-status",n)}}},q=e(98083),G={};G.styleTagTransform=P(),G.setAttributes=k(),G.insert=y().bind(null,"head"),G.domAPI=h(),G.insertStyleElement=$(),g()(q.Z,G),q.Z&&q.Z.locals&&q.Z.locals;var z=(0,O.Z)(T,d,[],!1,null,"31790e1a",null);z.options.__file="apps/user_status/src/components/PredefinedStatusesList.vue";var N=z.exports,R=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"custom-input__form"},[e("NcEmojiPicker",{attrs:{container:".custom-input__form"},on:{select:n.setIcon}},[e("NcButton",{staticClass:"custom-input__emoji-button",attrs:{type:"tertiary-no-background"}},[n._v("\n\t\t\t"+n._s(n.visibleIcon)+"\n\t\t")])],1),n._v(" "),e("label",{staticClass:"hidden-visually",attrs:{for:"user_status_message"}},[n._v("\n\t\t"+n._s(n.t("user_status","What is your status?"))+"\n\t")]),n._v(" "),e("input",{ref:"input",attrs:{id:"user_status_message",maxlength:"80",disabled:n.disabled,placeholder:n.$t("user_status","What is your status?"),type:"text"},domProps:{value:n.message},on:{change:n.change,keyup:[n.change,function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.submit.apply(null,arguments)}],paste:n.change}})],1)};R._withStripped=!0;var W=e(21968),F=e.n(W),U={name:"CustomMessageInput",components:{NcButton:l(),NcEmojiPicker:F()},props:{icon:{type:String,default:"😀"},message:{type:String,required:!0,default:function(){return""}},disabled:{type:Boolean,default:!1}},emits:["change","submit","icon-selected"],computed:{visibleIcon:function(){return this.icon||"😀"}},methods:{focus:function(){this.$refs.input.focus()},change:function(n){this.$emit("change",n.target.value)},submit:function(n){this.$emit("submit",n.target.value)},setIcon:function(n){this.$emit("select-icon",n)}}},L=e(15198),Y={};Y.styleTagTransform=P(),Y.setAttributes=k(),Y.insert=y().bind(null,"head"),Y.domAPI=h(),Y.insertStyleElement=$(),g()(L.Z,Y),L.Z&&L.Z.locals&&L.Z.locals;var Q=(0,O.Z)(U,R,[],!1,null,"f8ff5dac",null);Q.options.__file="apps/user_status/src/components/CustomMessageInput.vue";var X=Q.exports,H=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"clear-at-select"},[e("label",{staticClass:"clear-at-select__label",attrs:{for:"clearStatus"}},[n._v("\n\t\t"+n._s(n.$t("user_status","Clear status after"))+"\n\t")]),n._v(" "),e("NcMultiselect",{attrs:{id:"clearStatus",label:"label",value:n.option,options:n.options,"open-direction":"top"},on:{select:n.select}})],1)};H._withStripped=!0;var V=e(98266),J={name:"ClearAtSelect",components:{NcMultiselect:e.n(V)()},props:{clearAt:{type:Object,default:null}},data:function(){return{options:[{label:(0,u.translate)("user_status","Don't clear"),clearAt:null},{label:(0,u.translate)("user_status","30 minutes"),clearAt:{type:"period",time:1800}},{label:(0,u.translate)("user_status","1 hour"),clearAt:{type:"period",time:3600}},{label:(0,u.translate)("user_status","4 hours"),clearAt:{type:"period",time:14400}},{label:(0,u.translate)("user_status","Today"),clearAt:{type:"end-of",time:"day"}},{label:(0,u.translate)("user_status","This week"),clearAt:{type:"end-of",time:"week"}}]}},computed:{option:function(){return{clearAt:this.clearAt,label:C(this.clearAt)}}},methods:{select:function(n){n&&this.$emit("select-clear-at",n.clearAt)}}},K=e(54840),nn={};nn.styleTagTransform=P(),nn.setAttributes=k(),nn.insert=y().bind(null,"head"),nn.domAPI=h(),nn.insertStyleElement=$(),g()(K.Z,nn),K.Z&&K.Z.locals&&K.Z.locals;var tn=(0,O.Z)(J,H,[],!1,null,"16308054",null);tn.options.__file="apps/user_status/src/components/ClearAtSelect.vue";var en=tn.exports,sn=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"user-status-online-select"},[e("input",{staticClass:"user-status-online-select__input",attrs:{id:n.id,type:"radio",name:"user-status-online"},domProps:{checked:n.checked},on:{change:n.onChange}}),n._v(" "),e("label",{staticClass:"user-status-online-select__label",attrs:{for:n.id}},[n._v("\n\t\t"+n._s(n.label)+"\n\t\t"),e("span",{class:n.icon,attrs:{role:"img"}}),n._v(" "),e("em",{staticClass:"user-status-online-select__subline"},[n._v(n._s(n.subline))])])])};sn._withStripped=!0;var an={name:"OnlineStatusSelect",props:{checked:{type:Boolean,default:!1},icon:{type:String,required:!0},type:{type:String,required:!0},label:{type:String,required:!0},subline:{type:String,default:null}},computed:{id:function(){return"user-status-online-status-".concat(this.type)}},methods:{onChange:function(){this.$emit("select",this.type)}}},rn=e(84988),on={};on.styleTagTransform=P(),on.setAttributes=k(),on.insert=y().bind(null,"head"),on.domAPI=h(),on.insertStyleElement=$(),g()(rn.Z,on),rn.Z&&rn.Z.locals&&rn.Z.locals;var ln=(0,O.Z)(an,sn,[],!1,null,"08b51a17",null);ln.options.__file="apps/user_status/src/components/OnlineStatusSelect.vue";var un=ln.exports;function cn(n,t,e,s,a,r,i){try{var o=n[r](i),l=o.value}catch(n){return void e(n)}o.done?t(l):Promise.resolve(l).then(s,a)}function dn(n){return function(){var t=this,e=arguments;return new Promise((function(s,a){var r=n.apply(t,e);function i(n){cn(r,s,a,i,o,"next",n)}function o(n){cn(r,s,a,i,o,"throw",n)}i(void 0)}))}}var An={name:"SetStatusModal",components:{ClearAtSelect:en,CustomMessageInput:X,NcModal:i(),OnlineStatusSelect:un,PredefinedStatusesList:N,NcButton:l()},mixins:[c.Z],data:function(){return{clearAt:null,icon:null,message:"",messageId:"",isSavingStatus:!1,statuses:[{type:"online",label:(0,u.translate)("user_status","Online"),icon:"icon-user-status-online"},{type:"away",label:(0,u.translate)("user_status","Away"),icon:"icon-user-status-away"},{type:"dnd",label:(0,u.translate)("user_status","Do not disturb"),subline:(0,u.translate)("user_status","Mute all notifications"),icon:"icon-user-status-dnd"},{type:"invisible",label:(0,u.translate)("user_status","Invisible"),subline:(0,u.translate)("user_status","Appear offline"),icon:"icon-user-status-invisible"}]}},mounted:function(){this.messageId=this.$store.state.userStatus.messageId,this.icon=this.$store.state.userStatus.icon,this.message=this.$store.state.userStatus.message||"",null!==this.$store.state.userStatus.clearAt&&(this.clearAt={type:"_time",time:this.$store.state.userStatus.clearAt})},methods:{closeModal:function(){this.$emit("close")},setIcon:function(n){var t=this;this.messageId=null,this.icon=n,this.$nextTick((function(){t.$refs.customMessageInput.focus()}))},setMessage:function(n){this.messageId=null,this.message=n},setClearAt:function(n){this.clearAt=n},selectPredefinedMessage:function(n){this.messageId=n.id,this.clearAt=n.clearAt,this.icon=n.icon,this.message=n.message},saveStatus:function(){var n=this;return dn(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isSavingStatus){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,n.isSavingStatus=!0,void 0===n.messageId||null===n.messageId){t.next=9;break}return t.next=7,n.$store.dispatch("setPredefinedMessage",{messageId:n.messageId,clearAt:n.clearAt});case 7:t.next=11;break;case 9:return t.next=11,n.$store.dispatch("setCustomMessage",{message:n.message,icon:n.icon,clearAt:n.clearAt});case 11:t.next=19;break;case 13:return t.prev=13,t.t0=t.catch(2),(0,a.x2)(n.$t("user_status","There was an error saving the status")),console.debug(t.t0),n.isSavingStatus=!1,t.abrupt("return");case 19:n.isSavingStatus=!1,n.closeModal();case 21:case"end":return t.stop()}}),t,null,[[2,13]])})))()},clearStatus:function(){var n=this;return dn(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n.isSavingStatus=!0,t.next=4,n.$store.dispatch("clearMessage");case 4:t.next=12;break;case 6:return t.prev=6,t.t0=t.catch(0),(0,a.x2)(n.$t("user_status","There was an error clearing the status")),console.debug(t.t0),n.isSavingStatus=!1,t.abrupt("return");case 12:n.isSavingStatus=!1,n.closeModal();case 14:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}},pn=e(73992),mn={};mn.styleTagTransform=P(),mn.setAttributes=k(),mn.insert=y().bind(null,"head"),mn.domAPI=h(),mn.insertStyleElement=$(),g()(pn.Z,mn),pn.Z&&pn.Z.locals&&pn.Z.locals;var fn=(0,O.Z)(An,s,[],!1,null,"1a4980a2",null);fn.options.__file="apps/user_status/src/components/SetStatusModal.vue";var Cn=fn.exports}}]);
//# sourceMappingURL=user-status-modal-8299.js.map?v=2e3fd2845c5d679f2644