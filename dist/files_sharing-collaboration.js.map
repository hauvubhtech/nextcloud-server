{"version":3,"file":"files_sharing-collaboration.js?v=b736a508139452dd8b55","mappings":"AAwBoBA,KAAKC,GAAGC,cAE5BC,OAAOC,IAAIC,cAAcC,aAAa,OAAQ,CAC7CC,OAAQ,WACP,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC5BT,GAAGU,QAAQC,WAAWC,EAAE,gBAAiB,mBAAmB,SAASC,GACrDb,GAAGc,MAAMC,YACjBC,YAAYH,GAAGI,MAAK,SAACC,EAAQC,GACnCX,EAAQW,EAASC,GACjB,IAAEC,MAAK,WACPZ,EAAO,IAAIa,MAAM,uBACjB,GACD,IAAE,EAAO,MAAM,EAAOtB,GAAGU,QAAQa,uBAAwB,GAAI,CAAEC,uBAAuB,GACvF,GACD,EACDC,WAAYb,EAAE,gBAAiB,kBAC/Bc,cAAe","sources":["webpack:///nextcloud/apps\\files_sharing\\src\\collaborationresourceshandler.js"],"sourcesContent":["/**\r\n * @copyright Copyright (c) 2016 John Molakvoæ <skjnldsv@protonmail.com>\r\n *\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n * @author Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\n// eslint-disable-next-line camelcase\r\n__webpack_nonce__ = btoa(OC.requestToken)\r\n\r\nwindow.OCP.Collaboration.registerType('file', {\r\n\taction: () => {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tOC.dialogs.filepicker(t('files_sharing', 'Link to a file'), function(f) {\r\n\t\t\t\tconst client = OC.Files.getClient()\r\n\t\t\t\tclient.getFileInfo(f).then((status, fileInfo) => {\r\n\t\t\t\t\tresolve(fileInfo.id)\r\n\t\t\t\t}).fail(() => {\r\n\t\t\t\t\treject(new Error('Cannot get fileinfo'))\r\n\t\t\t\t})\r\n\t\t\t}, false, null, false, OC.dialogs.FILEPICKER_TYPE_CHOOSE, '', { allowDirectoryChooser: true })\r\n\t\t})\r\n\t},\r\n\ttypeString: t('files_sharing', 'Link to a file'),\r\n\ttypeIconClass: 'icon-files-dark',\r\n})\r\n"],"names":["btoa","OC","requestToken","window","OCP","Collaboration","registerType","action","Promise","resolve","reject","dialogs","filepicker","t","f","Files","getClient","getFileInfo","then","status","fileInfo","id","fail","Error","FILEPICKER_TYPE_CHOOSE","allowDirectoryChooser","typeString","typeIconClass"],"sourceRoot":""}