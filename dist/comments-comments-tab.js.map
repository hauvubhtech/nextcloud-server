{"version":3,"file":"comments-comments-tab.js?v=badfdc180a9f8cfb2cfa","mappings":";qIAuBA,IAAIA,EAAc,KACZC,EAAa,IAAIC,IAAIC,MAAMC,QAAQC,IAAI,CAC5CC,GAAI,WACJC,KAAMC,EAAE,WAAY,YACpBC,KAAM,eAEAC,MALsC,SAKhCC,EAAIC,EAAUC,GAAS,sIAC9Bb,GACHA,EAAYc,WAEbd,EAAc,IAAIE,IAAIa,SAASC,KAAK,QAAS,CAE5CC,OAAQJ,IANyB,SAS5Bb,EAAYkB,OAAON,EAASN,IATA,OAUlCN,EAAYmB,OAAOR,GAVe,gOAWlC,EACDO,OAjB4C,SAiBrCN,GACNZ,EAAYkB,OAAON,EAASN,GAC5B,EACDc,QApB4C,WAqB3CpB,EAAYc,WACZd,EAAc,IACd,EACDqB,oBAxB4C,WAyB3CrB,EAAYsB,uBACZ,IAGFC,OAAOC,iBAAiB,oBAAoB,WACvCtB,IAAIC,OAASD,IAAIC,MAAMC,SAC1BF,IAAIC,MAAMC,QAAQqB,YAAYxB,EAE/B","sources":["webpack:///nextcloud/apps\\comments\\src\\comments-tab.js"],"sourcesContent":["/**\r\n * @copyright Copyright (c) 2020 John Molakvoæ <skjnldsv@protonmail.com>\r\n *\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\n// Init Comments tab component\r\nlet TabInstance = null\r\nconst commentTab = new OCA.Files.Sidebar.Tab({\r\n\tid: 'comments',\r\n\tname: t('comments', 'Comments'),\r\n\ticon: 'icon-comment',\r\n\r\n\tasync mount(el, fileInfo, context) {\r\n\t\tif (TabInstance) {\r\n\t\t\tTabInstance.$destroy()\r\n\t\t}\r\n\t\tTabInstance = new OCA.Comments.View('files', {\r\n\t\t\t// Better integration with vue parent component\r\n\t\t\tparent: context,\r\n\t\t})\r\n\t\t// Only mount after we have all the info we need\r\n\t\tawait TabInstance.update(fileInfo.id)\r\n\t\tTabInstance.$mount(el)\r\n\t},\r\n\tupdate(fileInfo) {\r\n\t\tTabInstance.update(fileInfo.id)\r\n\t},\r\n\tdestroy() {\r\n\t\tTabInstance.$destroy()\r\n\t\tTabInstance = null\r\n\t},\r\n\tscrollBottomReached() {\r\n\t\tTabInstance.onScrollBottomReached()\r\n\t},\r\n})\r\n\r\nwindow.addEventListener('DOMContentLoaded', function() {\r\n\tif (OCA.Files && OCA.Files.Sidebar) {\r\n\t\tOCA.Files.Sidebar.registerTab(commentTab)\r\n\t}\r\n})\r\n"],"names":["TabInstance","commentTab","OCA","Files","Sidebar","Tab","id","name","t","icon","mount","el","fileInfo","context","$destroy","Comments","View","parent","update","$mount","destroy","scrollBottomReached","onScrollBottomReached","window","addEventListener","registerTab"],"sourceRoot":""}