{"version":3,"file":"workflowengine-workflowengine.js?v=e140c2ebd196113802e6","mappings":"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","sources":["webpack:///nextcloud/webpack\\runtime\\chunk loaded","webpack:///nextcloud/apps\\workflowengine\\src\\helpers\\api.js","webpack:///nextcloud/apps\\workflowengine\\src\\store.js","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Workflow.vue?vue&type=template&id=a7f0d644&scoped=true&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Rule.vue?vue&type=template&id=3a24edca&scoped=true&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Event.vue?vue&type=template&id=081648ea&scoped=true&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Event.vue?vue&type=script&lang=js&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Event.vue","webpack://nextcloud/./apps/workflowengine/src/components/Event.vue?f0da","webpack://nextcloud/./apps/workflowengine/src/components/Event.vue?5115","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Check.vue?vue&type=template&id=11d766f9&scoped=true&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Check.vue?vue&type=script&lang=js&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Check.vue","webpack://nextcloud/./apps/workflowengine/src/components/Check.vue?fd34","webpack://nextcloud/./apps/workflowengine/src/components/Check.vue?3fb8","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Operation.vue?vue&type=template&id=ce148950&scoped=true&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Operation.vue","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Operation.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/workflowengine/src/components/Operation.vue?8ddd","webpack://nextcloud/./apps/workflowengine/src/components/Operation.vue?3526","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Rule.vue","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Rule.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/workflowengine/src/components/Rule.vue?2b36","webpack://nextcloud/./apps/workflowengine/src/components/Rule.vue?e711","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Workflow.vue","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Workflow.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/workflowengine/src/components/Workflow.vue?135a","webpack://nextcloud/./apps/workflowengine/src/components/Workflow.vue?17b8","webpack:///nextcloud/apps\\workflowengine\\src\\helpers\\validators.js","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\FileMimeType.vue?vue&type=template&id=1d6fa99f&scoped=true&","webpack:///nextcloud/apps\\workflowengine\\src\\mixins\\valueMixin.js","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\FileMimeType.vue","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\FileMimeType.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/workflowengine/src/components/Checks/FileMimeType.vue?ee93","webpack://nextcloud/./apps/workflowengine/src/components/Checks/FileMimeType.vue?c385","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\FileSystemTag.vue?vue&type=template&id=c54c72ac&scoped=true&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\FileSystemTag.vue?vue&type=script&lang=js&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\FileSystemTag.vue","webpack://nextcloud/./apps/workflowengine/src/components/Checks/FileSystemTag.vue?2d3e","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\file.js","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestUserAgent.vue?vue&type=template&id=f3bfa8c0&scoped=true&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestUserAgent.vue","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestUserAgent.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/workflowengine/src/components/Checks/RequestUserAgent.vue?6218","webpack://nextcloud/./apps/workflowengine/src/components/Checks/RequestUserAgent.vue?81d6","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestTime.vue?vue&type=template&id=53b6e3d2&scoped=true&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestTime.vue","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestTime.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/workflowengine/src/components/Checks/RequestTime.vue?721b","webpack://nextcloud/./apps/workflowengine/src/components/Checks/RequestTime.vue?a55a","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestURL.vue?vue&type=template&id=4e5081d6&scoped=true&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestURL.vue","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestURL.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/workflowengine/src/components/Checks/RequestURL.vue?1d2c","webpack://nextcloud/./apps/workflowengine/src/components/Checks/RequestURL.vue?eee5","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestUserGroup.vue?vue&type=template&id=d9c0dbcc&scoped=true&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestUserGroup.vue","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestUserGroup.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/workflowengine/src/components/Checks/RequestUserGroup.vue?b359","webpack://nextcloud/./apps/workflowengine/src/components/Checks/RequestUserGroup.vue?f6d3","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\request.js","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\index.js","webpack:///nextcloud/apps\\workflowengine\\src\\workflowengine.js","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Check.vue?vue&type=style&index=0&id=11d766f9&scoped=true&lang=scss&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\FileMimeType.vue?vue&type=style&index=0&id=1d6fa99f&scoped=true&lang=scss&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestTime.vue?vue&type=style&index=0&id=53b6e3d2&scoped=true&lang=scss&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestURL.vue?vue&type=style&index=0&id=4e5081d6&scoped=true&lang=scss&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Event.vue?vue&type=style&index=0&id=081648ea&scoped=true&lang=scss&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Operation.vue?vue&type=style&index=0&id=ce148950&scoped=true&lang=scss&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Rule.vue?vue&type=style&index=0&id=3a24edca&scoped=true&lang=scss&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Workflow.vue?vue&type=style&index=0&id=a7f0d644&scoped=true&lang=scss&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestUserAgent.vue?vue&type=style&index=0&id=f3bfa8c0&scoped=true&lang=css&","webpack:///nextcloud/apps\\workflowengine\\src\\components\\Checks\\RequestUserGroup.vue?vue&type=style&index=0&id=d9c0dbcc&scoped=true&lang=css&","webpack:///nextcloud/node_modules\\moment\\locale|sync|\\^\\.*$","webpack:///nextcloud/webpack\\bootstrap","webpack:///nextcloud/webpack\\runtime\\amd define","webpack:///nextcloud/webpack\\runtime\\amd options","webpack:///nextcloud/webpack\\runtime\\compat get default export","webpack:///nextcloud/webpack\\runtime\\define property getters","webpack:///nextcloud/webpack\\runtime\\global","webpack:///nextcloud/webpack\\runtime\\hasOwnProperty shorthand","webpack:///nextcloud/webpack\\runtime\\make namespace object","webpack:///nextcloud/webpack\\runtime\\node module decorator","webpack:///nextcloud/webpack\\runtime\\runtimeId","webpack:///nextcloud/webpack\\runtime\\jsonp chunk loading","webpack:///nextcloud/webpack\\runtime\\nonce","webpack:///nextcloud/webpack\\startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","/**\r\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\r\n * @author Julius Härtl <jus@bitgrid.net>\r\n * @author Roeland Jago Douma <roeland@famdouma.nl>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport { loadState } from '@nextcloud/initial-state'\r\nimport { generateOcsUrl } from '@nextcloud/router'\r\n\r\nconst scopeValue = loadState('workflowengine', 'scope') === 0 ? 'global' : 'user'\r\n\r\nconst getApiUrl = (url) => {\r\n\treturn generateOcsUrl('apps/workflowengine/api/v1/workflows/{scopeValue}', { scopeValue }) + url + '?format=json'\r\n}\r\n\r\nexport {\r\n\tgetApiUrl,\r\n}\r\n","/**\r\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\r\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n * @author Julius Härtl <jus@bitgrid.net>\r\n * @author Roeland Jago Douma <roeland@famdouma.nl>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport Vue from 'vue'\r\nimport Vuex, { Store } from 'vuex'\r\nimport axios from '@nextcloud/axios'\r\nimport { getApiUrl } from './helpers/api'\r\nimport { confirmPassword } from '@nextcloud/password-confirmation'\r\nimport '@nextcloud/password-confirmation/dist/style.css'\r\nimport { loadState } from '@nextcloud/initial-state'\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Store({\r\n\tstate: {\r\n\t\trules: [],\r\n\t\tscope: loadState('workflowengine', 'scope'),\r\n\t\tappstoreEnabled: loadState('workflowengine', 'appstoreenabled'),\r\n\t\toperations: loadState('workflowengine', 'operators'),\r\n\r\n\t\tplugins: Vue.observable({\r\n\t\t\tchecks: {},\r\n\t\t\toperators: {},\r\n\t\t}),\r\n\r\n\t\tentities: loadState('workflowengine', 'entities'),\r\n\t\tevents: loadState('workflowengine', 'entities')\r\n\t\t\t.map((entity) => entity.events.map(event => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: `${entity.id}::${event.eventName}`,\r\n\t\t\t\t\tentity,\r\n\t\t\t\t\t...event,\r\n\t\t\t\t}\r\n\t\t\t})).flat(),\r\n\t\tchecks: loadState('workflowengine', 'checks'),\r\n\t},\r\n\tmutations: {\r\n\t\taddRule(state, rule) {\r\n\t\t\tstate.rules.push({ ...rule, valid: true })\r\n\t\t},\r\n\t\tupdateRule(state, rule) {\r\n\t\t\tconst index = state.rules.findIndex((item) => rule.id === item.id)\r\n\t\t\tconst newRule = Object.assign({}, rule)\r\n\t\t\tVue.set(state.rules, index, newRule)\r\n\t\t},\r\n\t\tremoveRule(state, rule) {\r\n\t\t\tconst index = state.rules.findIndex((item) => rule.id === item.id)\r\n\t\t\tstate.rules.splice(index, 1)\r\n\t\t},\r\n\t\taddPluginCheck(state, plugin) {\r\n\t\t\tVue.set(state.plugins.checks, plugin.class, plugin)\r\n\t\t},\r\n\t\taddPluginOperator(state, plugin) {\r\n\t\t\tplugin = Object.assign(\r\n\t\t\t\t{ color: 'var(--color-primary-element)' },\r\n\t\t\t\tplugin, state.operations[plugin.id] || {})\r\n\t\t\tif (typeof state.operations[plugin.id] !== 'undefined') {\r\n\t\t\t\tVue.set(state.operations, plugin.id, plugin)\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tactions: {\r\n\t\tasync fetchRules(context) {\r\n\t\t\tconst { data } = await axios.get(getApiUrl(''))\r\n\t\t\tObject.values(data.ocs.data).flat().forEach((rule) => {\r\n\t\t\t\tcontext.commit('addRule', rule)\r\n\t\t\t})\r\n\t\t},\r\n\t\tcreateNewRule(context, rule) {\r\n\t\t\tlet entity = null\r\n\t\t\tlet events = []\r\n\t\t\tif (rule.isComplex === false && rule.fixedEntity === '') {\r\n\t\t\t\tentity = context.state.entities.find((item) => rule.entities && rule.entities[0] === item.id)\r\n\t\t\t\tentity = entity || Object.values(context.state.entities)[0]\r\n\t\t\t\tevents = [entity.events[0].eventName]\r\n\t\t\t}\r\n\r\n\t\t\tcontext.commit('addRule', {\r\n\t\t\t\tid: -(new Date().getTime()),\r\n\t\t\t\tclass: rule.id,\r\n\t\t\t\tentity: entity ? entity.id : rule.fixedEntity,\r\n\t\t\t\tevents,\r\n\t\t\t\tname: '', // unused in the new ui, there for legacy reasons\r\n\t\t\t\tchecks: [\r\n\t\t\t\t\t{ class: null, operator: null, value: '' },\r\n\t\t\t\t],\r\n\t\t\t\toperation: rule.operation || '',\r\n\t\t\t})\r\n\t\t},\r\n\t\tupdateRule(context, rule) {\r\n\t\t\tcontext.commit('updateRule', {\r\n\t\t\t\t...rule,\r\n\t\t\t\tevents: typeof rule.events === 'string' ? JSON.parse(rule.events) : rule.events,\r\n\t\t\t})\r\n\t\t},\r\n\t\tremoveRule(context, rule) {\r\n\t\t\tcontext.commit('removeRule', rule)\r\n\t\t},\r\n\t\tasync pushUpdateRule(context, rule) {\r\n\t\t\tif (context.state.scope === 0) {\r\n\t\t\t\tawait confirmPassword()\r\n\t\t\t}\r\n\t\t\tlet result\r\n\t\t\tif (rule.id < 0) {\r\n\t\t\t\tresult = await axios.post(getApiUrl(''), rule)\r\n\t\t\t} else {\r\n\t\t\t\tresult = await axios.put(getApiUrl(`/${rule.id}`), rule)\r\n\t\t\t}\r\n\t\t\tVue.set(rule, 'id', result.data.ocs.data.id)\r\n\t\t\tcontext.commit('updateRule', rule)\r\n\t\t},\r\n\t\tasync deleteRule(context, rule) {\r\n\t\t\tawait confirmPassword()\r\n\t\t\tawait axios.delete(getApiUrl(`/${rule.id}`))\r\n\t\t\tcontext.commit('removeRule', rule)\r\n\t\t},\r\n\t\tsetValid(context, { rule, valid }) {\r\n\t\t\trule.valid = valid\r\n\t\t\tcontext.commit('updateRule', rule)\r\n\t\t},\r\n\t},\r\n\tgetters: {\r\n\t\tgetRules(state) {\r\n\t\t\treturn state.rules.filter((rule) => typeof state.operations[rule.class] !== 'undefined').sort((rule1, rule2) => {\r\n\t\t\t\treturn rule1.id - rule2.id || rule2.class - rule1.class\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetOperationForRule(state) {\r\n\t\t\treturn (rule) => state.operations[rule.class]\r\n\t\t},\r\n\t\tgetEntityForOperation(state) {\r\n\t\t\treturn (operation) => state.entities.find((entity) => operation.fixedEntity === entity.id)\r\n\t\t},\r\n\t\tgetEventsForOperation(state) {\r\n\t\t\treturn (operation) => state.events\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return all available checker plugins for a given entity class\r\n\t\t *\r\n\t\t * @param {object} state the store state\r\n\t\t * @return {Function} the available plugins\r\n\t\t */\r\n\t\tgetChecksForEntity(state) {\r\n\t\t\treturn (entity) => {\r\n\t\t\t\treturn Object.values(state.checks)\r\n\t\t\t\t\t.filter((check) => check.supportedEntities.indexOf(entity) > -1 || check.supportedEntities.length === 0)\r\n\t\t\t\t\t.map((check) => state.plugins.checks[check.id])\r\n\t\t\t\t\t.reduce((obj, item) => {\r\n\t\t\t\t\t\tobj[item.class] = item\r\n\t\t\t\t\t\treturn obj\r\n\t\t\t\t\t}, {})\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n})\r\n\r\nexport default store\r\n","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { attrs: { id: \"workflowengine\" } },\n    [\n      _c(\n        \"NcSettingsSection\",\n        {\n          attrs: {\n            title: _vm.t(\"workflowengine\", \"Available flows\"),\n            \"doc-url\": _vm.workflowDocUrl,\n          },\n        },\n        [\n          _vm.scope === 0\n            ? _c(\"p\", { staticClass: \"settings-hint\" }, [\n                _c(\n                  \"a\",\n                  { attrs: { href: \"https://nextcloud.com/developer/\" } },\n                  [\n                    _vm._v(\n                      _vm._s(\n                        _vm.t(\n                          \"workflowengine\",\n                          \"For details on how to write your own flow, check out the development documentation.\"\n                        )\n                      )\n                    ),\n                  ]\n                ),\n              ])\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\n            \"transition-group\",\n            { staticClass: \"actions\", attrs: { name: \"slide\", tag: \"div\" } },\n            [\n              _vm._l(_vm.getMainOperations, function (operation) {\n                return _c(\"Operation\", {\n                  key: operation.id,\n                  attrs: { operation: operation },\n                  nativeOn: {\n                    click: function ($event) {\n                      return _vm.createNewRule(operation)\n                    },\n                  },\n                })\n              }),\n              _vm._v(\" \"),\n              _vm.showAppStoreHint\n                ? _c(\n                    \"a\",\n                    {\n                      key: \"add\",\n                      staticClass: \"actions__item colored more\",\n                      attrs: { href: _vm.appstoreUrl },\n                    },\n                    [\n                      _c(\"div\", { staticClass: \"icon icon-add\" }),\n                      _vm._v(\" \"),\n                      _c(\"div\", { staticClass: \"actions__item__description\" }, [\n                        _c(\"h3\", [\n                          _vm._v(_vm._s(_vm.t(\"workflowengine\", \"More flows\"))),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"small\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.t(\"workflowengine\", \"Browse the App Store\")\n                            )\n                          ),\n                        ]),\n                      ]),\n                    ]\n                  )\n                : _vm._e(),\n            ],\n            2\n          ),\n          _vm._v(\" \"),\n          _vm.hasMoreOperations\n            ? _c(\n                \"div\",\n                { staticClass: \"actions__more\" },\n                [\n                  _c(\n                    \"NcButton\",\n                    {\n                      on: {\n                        click: function ($event) {\n                          _vm.showMoreOperations = !_vm.showMoreOperations\n                        },\n                      },\n                      scopedSlots: _vm._u(\n                        [\n                          {\n                            key: \"icon\",\n                            fn: function () {\n                              return [\n                                _vm.showMoreOperations\n                                  ? _c(\"MenuUp\", { attrs: { size: 20 } })\n                                  : _c(\"MenuDown\", { attrs: { size: 20 } }),\n                              ]\n                            },\n                            proxy: true,\n                          },\n                        ],\n                        null,\n                        false,\n                        3801522717\n                      ),\n                    },\n                    [\n                      _vm._v(\n                        \"\\n\\t\\t\\t\\t\" +\n                          _vm._s(\n                            _vm.showMoreOperations\n                              ? _vm.t(\"workflowengine\", \"Show less\")\n                              : _vm.t(\"workflowengine\", \"Show more\")\n                          ) +\n                          \"\\n\\t\\t\\t\"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.scope === 0\n            ? _c(\"h2\", { staticClass: \"configured-flows\" }, [\n                _vm._v(\n                  \"\\n\\t\\t\\t\" +\n                    _vm._s(_vm.t(\"workflowengine\", \"Configured flows\")) +\n                    \"\\n\\t\\t\"\n                ),\n              ])\n            : _c(\"h2\", { staticClass: \"configured-flows\" }, [\n                _vm._v(\n                  \"\\n\\t\\t\\t\" +\n                    _vm._s(_vm.t(\"workflowengine\", \"Your flows\")) +\n                    \"\\n\\t\\t\"\n                ),\n              ]),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _vm.rules.length > 0\n        ? _c(\n            \"transition-group\",\n            { attrs: { name: \"slide\" } },\n            _vm._l(_vm.rules, function (rule) {\n              return _c(\"Rule\", { key: rule.id, attrs: { rule: rule } })\n            }),\n            1\n          )\n        : _vm._e(),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.operation\n    ? _c(\n        \"div\",\n        {\n          staticClass: \"section rule\",\n          style: { borderLeftColor: _vm.operation.color || \"\" },\n        },\n        [\n          _c(\n            \"div\",\n            { staticClass: \"trigger\" },\n            [\n              _c(\n                \"p\",\n                [\n                  _c(\"span\", [_vm._v(_vm._s(_vm.t(\"workflowengine\", \"When\")))]),\n                  _vm._v(\" \"),\n                  _c(\"Event\", {\n                    attrs: { rule: _vm.rule },\n                    on: { update: _vm.updateRule },\n                  }),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm._l(_vm.rule.checks, function (check, index) {\n                return _c(\n                  \"p\",\n                  { key: index },\n                  [\n                    _c(\"span\", [\n                      _vm._v(_vm._s(_vm.t(\"workflowengine\", \"and\"))),\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"Check\", {\n                      attrs: { check: check, rule: _vm.rule },\n                      on: {\n                        update: _vm.updateRule,\n                        validate: _vm.validate,\n                        remove: function ($event) {\n                          return _vm.removeCheck(check)\n                        },\n                      },\n                    }),\n                  ],\n                  1\n                )\n              }),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _c(\"span\"),\n                _vm._v(\" \"),\n                _vm.lastCheckComplete\n                  ? _c(\"input\", {\n                      staticClass: \"check--add\",\n                      attrs: { type: \"button\", value: \"Add a new filter\" },\n                      on: { click: _vm.onAddFilter },\n                    })\n                  : _vm._e(),\n              ]),\n            ],\n            2\n          ),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"flow-icon icon-confirm\" }),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"action\" },\n            [\n              _c(\n                \"Operation\",\n                { attrs: { operation: _vm.operation, colored: false } },\n                [\n                  _vm.operation.options\n                    ? _c(_vm.operation.options, {\n                        tag: \"component\",\n                        on: { input: _vm.updateOperation },\n                        model: {\n                          value: _vm.rule.operation,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.rule, \"operation\", $$v)\n                          },\n                          expression: \"rule.operation\",\n                        },\n                      })\n                    : _vm._e(),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"buttons\" },\n                [\n                  _vm.rule.id < -1 || _vm.dirty\n                    ? _c(\"NcButton\", { on: { click: _vm.cancelRule } }, [\n                        _vm._v(\n                          \"\\n\\t\\t\\t\\t\" +\n                            _vm._s(_vm.t(\"workflowengine\", \"Cancel\")) +\n                            \"\\n\\t\\t\\t\"\n                        ),\n                      ])\n                    : !_vm.dirty\n                    ? _c(\"NcButton\", { on: { click: _vm.deleteRule } }, [\n                        _vm._v(\n                          \"\\n\\t\\t\\t\\t\" +\n                            _vm._s(_vm.t(\"workflowengine\", \"Delete\")) +\n                            \"\\n\\t\\t\\t\"\n                        ),\n                      ])\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _c(\n                    \"NcButton\",\n                    {\n                      attrs: { type: _vm.ruleStatus.type },\n                      on: { click: _vm.saveRule },\n                      scopedSlots: _vm._u(\n                        [\n                          {\n                            key: \"icon\",\n                            fn: function () {\n                              return [\n                                _c(_vm.ruleStatus.icon, {\n                                  tag: \"component\",\n                                  attrs: { size: 20 },\n                                }),\n                              ]\n                            },\n                            proxy: true,\n                          },\n                        ],\n                        null,\n                        false,\n                        2383918876\n                      ),\n                    },\n                    [\n                      _vm._v(\n                        \"\\n\\t\\t\\t\\t\" + _vm._s(_vm.ruleStatus.title) + \"\\n\\t\\t\\t\"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm.error\n                ? _c(\"p\", { staticClass: \"error-message\" }, [\n                    _vm._v(\"\\n\\t\\t\\t\" + _vm._s(_vm.error) + \"\\n\\t\\t\"),\n                  ])\n                : _vm._e(),\n            ],\n            1\n          ),\n        ]\n      )\n    : _vm._e()\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"event\" },\n    [\n      _vm.operation.isComplex && _vm.operation.fixedEntity !== \"\"\n        ? _c(\"div\", { staticClass: \"isComplex\" }, [\n            _c(\"img\", {\n              staticClass: \"option__icon\",\n              attrs: { src: _vm.entity.icon, alt: \"\" },\n            }),\n            _vm._v(\" \"),\n            _c(\"span\", { staticClass: \"option__title option__title_single\" }, [\n              _vm._v(_vm._s(_vm.operation.triggerHint)),\n            ]),\n          ])\n        : _c(\"NcMultiselect\", {\n            attrs: {\n              value: _vm.currentEvent,\n              options: _vm.allEvents,\n              \"track-by\": \"id\",\n              multiple: true,\n              \"auto-limit\": false,\n              disabled: _vm.allEvents.length <= 1,\n            },\n            on: { input: _vm.updateEvent },\n            scopedSlots: _vm._u([\n              {\n                key: \"selection\",\n                fn: function (ref) {\n                  var values = ref.values\n                  var isOpen = ref.isOpen\n                  return [\n                    values.length && !isOpen\n                      ? _c(\n                          \"div\",\n                          { staticClass: \"eventlist\" },\n                          [\n                            _c(\"img\", {\n                              staticClass: \"option__icon\",\n                              attrs: { src: values[0].entity.icon, alt: \"\" },\n                            }),\n                            _vm._v(\" \"),\n                            _vm._l(values, function (value, index) {\n                              return _c(\n                                \"span\",\n                                {\n                                  key: value.id,\n                                  staticClass:\n                                    \"text option__title option__title_single\",\n                                },\n                                [\n                                  _vm._v(_vm._s(value.displayName) + \" \"),\n                                  index + 1 < values.length\n                                    ? _c(\"span\", [_vm._v(\", \")])\n                                    : _vm._e(),\n                                ]\n                              )\n                            }),\n                          ],\n                          2\n                        )\n                      : _vm._e(),\n                  ]\n                },\n              },\n              {\n                key: \"option\",\n                fn: function (props) {\n                  return [\n                    _c(\"img\", {\n                      staticClass: \"option__icon\",\n                      attrs: { src: props.option.entity.icon, alt: \"\" },\n                    }),\n                    _vm._v(\" \"),\n                    _c(\"span\", { staticClass: \"option__title\" }, [\n                      _vm._v(_vm._s(props.option.displayName)),\n                    ]),\n                  ]\n                },\n              },\n            ]),\n          }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Event.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Event.vue?vue&type=script&lang=js&\"","<template>\r\n\t<div class=\"event\">\r\n\t\t<div v-if=\"operation.isComplex && operation.fixedEntity !== ''\" class=\"isComplex\">\r\n\t\t\t<img class=\"option__icon\" :src=\"entity.icon\" alt=\"\">\r\n\t\t\t<span class=\"option__title option__title_single\">{{ operation.triggerHint }}</span>\r\n\t\t</div>\r\n\t\t<NcMultiselect v-else\r\n\t\t\t:value=\"currentEvent\"\r\n\t\t\t:options=\"allEvents\"\r\n\t\t\ttrack-by=\"id\"\r\n\t\t\t:multiple=\"true\"\r\n\t\t\t:auto-limit=\"false\"\r\n\t\t\t:disabled=\"allEvents.length <= 1\"\r\n\t\t\t@input=\"updateEvent\">\r\n\t\t\t<template slot=\"selection\" slot-scope=\"{ values, isOpen }\">\r\n\t\t\t\t<div v-if=\"values.length && !isOpen\" class=\"eventlist\">\r\n\t\t\t\t\t<img class=\"option__icon\" :src=\"values[0].entity.icon\" alt=\"\">\r\n\t\t\t\t\t<span v-for=\"(value, index) in values\" :key=\"value.id\" class=\"text option__title option__title_single\">{{ value.displayName }} <span v-if=\"index+1 < values.length\">, </span></span>\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t\t<template slot=\"option\" slot-scope=\"props\">\r\n\t\t\t\t<img class=\"option__icon\" :src=\"props.option.entity.icon\" alt=\"\">\r\n\t\t\t\t<span class=\"option__title\">{{ props.option.displayName }}</span>\r\n\t\t\t</template>\r\n\t\t</NcMultiselect>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport NcMultiselect from '@nextcloud/vue/dist/Components/NcMultiselect'\r\nimport { showWarning } from '@nextcloud/dialogs'\r\n\r\nexport default {\r\n\tname: 'Event',\r\n\tcomponents: {\r\n\t\tNcMultiselect,\r\n\t},\r\n\tprops: {\r\n\t\trule: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n\t\tentity() {\r\n\t\t\treturn this.$store.getters.getEntityForOperation(this.operation)\r\n\t\t},\r\n\t\toperation() {\r\n\t\t\treturn this.$store.getters.getOperationForRule(this.rule)\r\n\t\t},\r\n\t\tallEvents() {\r\n\t\t\treturn this.$store.getters.getEventsForOperation(this.operation)\r\n\t\t},\r\n\t\tcurrentEvent() {\r\n\t\t\treturn this.allEvents.filter(event => event.entity.id === this.rule.entity && this.rule.events.indexOf(event.eventName) !== -1)\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tupdateEvent(events) {\r\n\t\t\tif (events.length === 0) {\r\n\t\t\t\tshowWarning(t('workflowengine', 'At least one event must be selected'))\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tconst existingEntity = this.rule.entity\r\n\t\t\tconst newEntities = events.map(event => event.entity.id).filter((value, index, self) => self.indexOf(value) === index)\r\n\t\t\tlet newEntity = null\r\n\t\t\tif (newEntities.length > 1) {\r\n\t\t\t\tnewEntity = newEntities.filter(entity => entity !== existingEntity)[0]\r\n\t\t\t} else {\r\n\t\t\t\tnewEntity = newEntities[0]\r\n\t\t\t}\r\n\r\n\t\t\tthis.$set(this.rule, 'entity', newEntity)\r\n\t\t\tthis.$set(this.rule, 'events', events.filter(event => event.entity.id === newEntity).map(event => event.eventName))\r\n\t\t\tthis.$emit('update', this.rule)\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.event {\r\n\t\tmargin-bottom: 5px;\r\n\t}\r\n\t.isComplex {\r\n\t\timg {\r\n\t\t\tvertical-align: text-top;\r\n\t\t}\r\n\t\tspan {\r\n\t\t\tpadding-top: 2px;\r\n\t\t\tdisplay: inline-block;\r\n\t\t}\r\n\t}\r\n\t.multiselect {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 550px;\r\n\t\tmargin-top: 4px;\r\n\t}\r\n\t.multiselect::v-deep .multiselect__single {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.multiselect:not(.multiselect--active)::v-deep .multiselect__tags {\r\n\t\tbackground-color: var(--color-main-background) !important;\r\n\t\tborder: 1px solid transparent;\r\n\t}\r\n\r\n\t.multiselect::v-deep .multiselect__tags {\r\n\t\tbackground-color: var(--color-main-background) !important;\r\n\t\theight: auto;\r\n\t\tmin-height: 34px;\r\n\t}\r\n\r\n\t.multiselect:not(.multiselect--disabled)::v-deep .multiselect__tags .multiselect__single {\r\n\t\tbackground-image: var(--icon-triangle-s-dark);\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-position: right center;\r\n\t}\r\n\r\n\tinput {\r\n\t\tborder: 1px solid transparent;\r\n\t}\r\n\r\n\t.option__title {\r\n\t\tmargin-left: 5px;\r\n\t\tcolor: var(--color-main-text);\r\n\t}\r\n\t.option__title_single {\r\n\t\tfont-weight: 900;\r\n\t}\r\n\r\n\t.option__icon {\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\tfilter: var(--background-invert-if-dark);\r\n\t}\r\n\r\n\t.eventlist img,\r\n\t.eventlist .text {\r\n\t\tvertical-align: middle;\r\n\t}\r\n</style>\r\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Event.vue?vue&type=style&index=0&id=081648ea&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Event.vue?vue&type=style&index=0&id=081648ea&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Event.vue?vue&type=template&id=081648ea&scoped=true&\"\nimport script from \"./Event.vue?vue&type=script&lang=js&\"\nexport * from \"./Event.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Event.vue?vue&type=style&index=0&id=081648ea&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"081648ea\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\WORKS\\\\BHSoft\\\\Projects\\\\nextcloud-server\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('081648ea')) {\n      api.createRecord('081648ea', component.options)\n    } else {\n      api.reload('081648ea', component.options)\n    }\n    module.hot.accept(\"./Event.vue?vue&type=template&id=081648ea&scoped=true&\", function () {\n      api.rerender('081648ea', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/workflowengine/src/components/Event.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      directives: [\n        {\n          name: \"click-outside\",\n          rawName: \"v-click-outside\",\n          value: _vm.hideDelete,\n          expression: \"hideDelete\",\n        },\n      ],\n      staticClass: \"check\",\n      on: { click: _vm.showDelete },\n    },\n    [\n      _c(\"NcMultiselect\", {\n        ref: \"checkSelector\",\n        attrs: {\n          options: _vm.options,\n          label: \"name\",\n          \"track-by\": \"class\",\n          \"allow-empty\": false,\n          placeholder: _vm.t(\"workflowengine\", \"Select a filter\"),\n        },\n        on: { input: _vm.updateCheck },\n        model: {\n          value: _vm.currentOption,\n          callback: function ($$v) {\n            _vm.currentOption = $$v\n          },\n          expression: \"currentOption\",\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"NcMultiselect\", {\n        staticClass: \"comparator\",\n        attrs: {\n          disabled: !_vm.currentOption,\n          options: _vm.operators,\n          label: \"name\",\n          \"track-by\": \"operator\",\n          \"allow-empty\": false,\n          placeholder: _vm.t(\"workflowengine\", \"Select a comparator\"),\n        },\n        on: { input: _vm.updateCheck },\n        model: {\n          value: _vm.currentOperator,\n          callback: function ($$v) {\n            _vm.currentOperator = $$v\n          },\n          expression: \"currentOperator\",\n        },\n      }),\n      _vm._v(\" \"),\n      _vm.currentOperator && _vm.currentComponent\n        ? _c(_vm.currentOption.component, {\n            tag: \"component\",\n            staticClass: \"option\",\n            attrs: { disabled: !_vm.currentOption, check: _vm.check },\n            on: {\n              input: _vm.updateCheck,\n              valid: function ($event) {\n                ;(_vm.valid = true) && _vm.validate()\n              },\n              invalid: function ($event) {\n                !(_vm.valid = false) && _vm.validate()\n              },\n            },\n            model: {\n              value: _vm.check.value,\n              callback: function ($$v) {\n                _vm.$set(_vm.check, \"value\", $$v)\n              },\n              expression: \"check.value\",\n            },\n          })\n        : _c(\"input\", {\n            directives: [\n              {\n                name: \"model\",\n                rawName: \"v-model\",\n                value: _vm.check.value,\n                expression: \"check.value\",\n              },\n            ],\n            staticClass: \"option\",\n            class: { invalid: !_vm.valid },\n            attrs: {\n              type: \"text\",\n              disabled: !_vm.currentOption,\n              placeholder: _vm.valuePlaceholder,\n            },\n            domProps: { value: _vm.check.value },\n            on: {\n              input: [\n                function ($event) {\n                  if ($event.target.composing) {\n                    return\n                  }\n                  _vm.$set(_vm.check, \"value\", $event.target.value)\n                },\n                _vm.updateCheck,\n              ],\n            },\n          }),\n      _vm._v(\" \"),\n      _vm.deleteVisible || !_vm.currentOption\n        ? _c(\n            \"NcActions\",\n            [\n              _c(\"NcActionButton\", {\n                attrs: { icon: \"icon-close\" },\n                on: {\n                  click: function ($event) {\n                    return _vm.$emit(\"remove\")\n                  },\n                },\n              }),\n            ],\n            1\n          )\n        : _vm._e(),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Check.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Check.vue?vue&type=script&lang=js&\"","<template>\r\n\t<div v-click-outside=\"hideDelete\" class=\"check\" @click=\"showDelete\">\r\n\t\t<NcMultiselect ref=\"checkSelector\"\r\n\t\t\tv-model=\"currentOption\"\r\n\t\t\t:options=\"options\"\r\n\t\t\tlabel=\"name\"\r\n\t\t\ttrack-by=\"class\"\r\n\t\t\t:allow-empty=\"false\"\r\n\t\t\t:placeholder=\"t('workflowengine', 'Select a filter')\"\r\n\t\t\t@input=\"updateCheck\" />\r\n\t\t<NcMultiselect v-model=\"currentOperator\"\r\n\t\t\t:disabled=\"!currentOption\"\r\n\t\t\t:options=\"operators\"\r\n\t\t\tclass=\"comparator\"\r\n\t\t\tlabel=\"name\"\r\n\t\t\ttrack-by=\"operator\"\r\n\t\t\t:allow-empty=\"false\"\r\n\t\t\t:placeholder=\"t('workflowengine', 'Select a comparator')\"\r\n\t\t\t@input=\"updateCheck\" />\r\n\t\t<component :is=\"currentOption.component\"\r\n\t\t\tv-if=\"currentOperator && currentComponent\"\r\n\t\t\tv-model=\"check.value\"\r\n\t\t\t:disabled=\"!currentOption\"\r\n\t\t\t:check=\"check\"\r\n\t\t\tclass=\"option\"\r\n\t\t\t@input=\"updateCheck\"\r\n\t\t\t@valid=\"(valid=true) && validate()\"\r\n\t\t\t@invalid=\"!(valid=false) && validate()\" />\r\n\t\t<input v-else\r\n\t\t\tv-model=\"check.value\"\r\n\t\t\ttype=\"text\"\r\n\t\t\t:class=\"{ invalid: !valid }\"\r\n\t\t\t:disabled=\"!currentOption\"\r\n\t\t\t:placeholder=\"valuePlaceholder\"\r\n\t\t\tclass=\"option\"\r\n\t\t\t@input=\"updateCheck\">\r\n\t\t<NcActions v-if=\"deleteVisible || !currentOption\">\r\n\t\t\t<NcActionButton icon=\"icon-close\" @click=\"$emit('remove')\" />\r\n\t\t</NcActions>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport NcMultiselect from '@nextcloud/vue/dist/Components/NcMultiselect'\r\nimport NcActions from '@nextcloud/vue/dist/Components/NcActions'\r\nimport NcActionButton from '@nextcloud/vue/dist/Components/NcActionButton'\r\nimport ClickOutside from 'vue-click-outside'\r\n\r\nexport default {\r\n\tname: 'Check',\r\n\tcomponents: {\r\n\t\tNcActionButton,\r\n\t\tNcActions,\r\n\t\tNcMultiselect,\r\n\t},\r\n\tdirectives: {\r\n\t\tClickOutside,\r\n\t},\r\n\tprops: {\r\n\t\tcheck: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\trule: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdeleteVisible: false,\r\n\t\t\tcurrentOption: null,\r\n\t\t\tcurrentOperator: null,\r\n\t\t\toptions: [],\r\n\t\t\tvalid: false,\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tchecks() {\r\n\t\t\treturn this.$store.getters.getChecksForEntity(this.rule.entity)\r\n\t\t},\r\n\t\toperators() {\r\n\t\t\tif (!this.currentOption) { return [] }\r\n\t\t\tconst operators = this.checks[this.currentOption.class].operators\r\n\t\t\tif (typeof operators === 'function') {\r\n\t\t\t\treturn operators(this.check)\r\n\t\t\t}\r\n\t\t\treturn operators\r\n\t\t},\r\n\t\tcurrentComponent() {\r\n\t\t\tif (!this.currentOption) { return [] }\r\n\t\t\treturn this.checks[this.currentOption.class].component\r\n\t\t},\r\n\t\tvaluePlaceholder() {\r\n\t\t\tif (this.currentOption && this.currentOption.placeholder) {\r\n\t\t\t\treturn this.currentOption.placeholder(this.check)\r\n\t\t\t}\r\n\t\t\treturn ''\r\n\t\t},\r\n\t},\r\n\twatch: {\r\n\t\t'check.operator'() {\r\n\t\t\tthis.validate()\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tthis.options = Object.values(this.checks)\r\n\t\tthis.currentOption = this.checks[this.check.class]\r\n\t\tthis.currentOperator = this.operators.find((operator) => operator.operator === this.check.operator)\r\n\r\n\t\tif (this.check.class === null) {\r\n\t\t\tthis.$nextTick(() => this.$refs.checkSelector.$el.focus())\r\n\t\t}\r\n\t\tthis.validate()\r\n\t},\r\n\tmethods: {\r\n\t\tshowDelete() {\r\n\t\t\tthis.deleteVisible = true\r\n\t\t},\r\n\t\thideDelete() {\r\n\t\t\tthis.deleteVisible = false\r\n\t\t},\r\n\t\tvalidate() {\r\n\t\t\tthis.valid = true\r\n\t\t\tif (this.currentOption && this.currentOption.validate) {\r\n\t\t\t\tthis.valid = !!this.currentOption.validate(this.check)\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line vue/no-mutating-props\r\n\t\t\tthis.check.invalid = !this.valid\r\n\t\t\tthis.$emit('validate', this.valid)\r\n\t\t},\r\n\t\tupdateCheck() {\r\n\t\t\tconst matchingOperator = this.operators.findIndex((operator) => this.check.operator === operator.operator)\r\n\t\t\tif (this.check.class !== this.currentOption.class || matchingOperator === -1) {\r\n\t\t\t\tthis.currentOperator = this.operators[0]\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line vue/no-mutating-props\r\n\t\t\tthis.check.class = this.currentOption.class\r\n\t\t\t// eslint-disable-next-line vue/no-mutating-props\r\n\t\t\tthis.check.operator = this.currentOperator.operator\r\n\r\n\t\t\tthis.validate()\r\n\r\n\t\t\tthis.$emit('update', this.check)\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.check {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\twidth: 100%;\r\n\t\tpadding-right: 20px;\r\n\t\t& > *:not(.close) {\r\n\t\t\twidth: 180px;\r\n\t\t}\r\n\t\t& > .comparator {\r\n\t\t\tmin-width: 130px;\r\n\t\t\twidth: 130px;\r\n\t\t}\r\n\t\t& > .option {\r\n\t\t\tmin-width: 230px;\r\n\t\t\twidth: 230px;\r\n\t\t}\r\n\t\t& > .multiselect,\r\n\t\t& > input[type=text] {\r\n\t\t\tmargin-right: 5px;\r\n\t\t\tmargin-bottom: 5px;\r\n\t\t}\r\n\r\n\t\t.multiselect::v-deep .multiselect__content-wrapper li>span,\r\n\t\t.multiselect::v-deep .multiselect__single {\r\n\t\t\tdisplay: block;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow: hidden;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t}\r\n\t}\r\n\tinput[type=text] {\r\n\t\tmargin: 0;\r\n\t}\r\n\t::placeholder {\r\n\t\tfont-size: 10px;\r\n\t}\r\n\tbutton.action-item.action-item--single.icon-close {\r\n\t\theight: 44px;\r\n\t\twidth: 44px;\r\n\t\tmargin-top: -5px;\r\n\t\tmargin-bottom: -5px;\r\n\t}\r\n\t.invalid {\r\n\t\tborder-color: var(--color-error) !important;\r\n\t}\r\n</style>\r\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Check.vue?vue&type=style&index=0&id=11d766f9&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Check.vue?vue&type=style&index=0&id=11d766f9&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Check.vue?vue&type=template&id=11d766f9&scoped=true&\"\nimport script from \"./Check.vue?vue&type=script&lang=js&\"\nexport * from \"./Check.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Check.vue?vue&type=style&index=0&id=11d766f9&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11d766f9\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\WORKS\\\\BHSoft\\\\Projects\\\\nextcloud-server\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('11d766f9')) {\n      api.createRecord('11d766f9', component.options)\n    } else {\n      api.reload('11d766f9', component.options)\n    }\n    module.hot.accept(\"./Check.vue?vue&type=template&id=11d766f9&scoped=true&\", function () {\n      api.rerender('11d766f9', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/workflowengine/src/components/Check.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"actions__item\",\n      class: { colored: _vm.colored },\n      style: {\n        backgroundColor: _vm.colored ? _vm.operation.color : \"transparent\",\n      },\n    },\n    [\n      _c(\"div\", {\n        staticClass: \"icon\",\n        class: _vm.operation.iconClass,\n        style: {\n          backgroundImage: _vm.operation.iconClass\n            ? \"\"\n            : \"url(\" + _vm.operation.icon + \")\",\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"actions__item__description\" },\n        [\n          _c(\"h3\", [_vm._v(_vm._s(_vm.operation.name))]),\n          _vm._v(\" \"),\n          _c(\"small\", [_vm._v(_vm._s(_vm.operation.description))]),\n          _vm._v(\" \"),\n          _vm.colored\n            ? _c(\"NcButton\", [\n                _vm._v(\n                  \"\\n\\t\\t\\t\" +\n                    _vm._s(_vm.t(\"workflowengine\", \"Add new flow\")) +\n                    \"\\n\\t\\t\"\n                ),\n              ])\n            : _vm._e(),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"actions__item_options\" },\n        [_vm._t(\"default\")],\n        2\n      ),\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"actions__item\" :class=\"{'colored': colored}\" :style=\"{ backgroundColor: colored ? operation.color : 'transparent' }\">\r\n\t\t<div class=\"icon\" :class=\"operation.iconClass\" :style=\"{ backgroundImage: operation.iconClass ? '' : `url(${operation.icon})` }\" />\r\n\t\t<div class=\"actions__item__description\">\r\n\t\t\t<h3>{{ operation.name }}</h3>\r\n\t\t\t<small>{{ operation.description }}</small>\r\n\t\t\t<NcButton v-if=\"colored\">\r\n\t\t\t\t{{ t('workflowengine', 'Add new flow') }}\r\n\t\t\t</NcButton>\r\n\t\t</div>\r\n\t\t<div class=\"actions__item_options\">\r\n\t\t\t<slot />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton'\r\n\r\nexport default {\r\n\tname: 'Operation',\r\n\tcomponents: {\r\n\t\tNcButton,\r\n\t},\r\n\tprops: {\r\n\t\toperation: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tcolored: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t@import \"./../styles/operation\";\r\n</style>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Operation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Operation.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Operation.vue?vue&type=style&index=0&id=ce148950&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Operation.vue?vue&type=style&index=0&id=ce148950&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Operation.vue?vue&type=template&id=ce148950&scoped=true&\"\nimport script from \"./Operation.vue?vue&type=script&lang=js&\"\nexport * from \"./Operation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Operation.vue?vue&type=style&index=0&id=ce148950&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce148950\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\WORKS\\\\BHSoft\\\\Projects\\\\nextcloud-server\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('ce148950')) {\n      api.createRecord('ce148950', component.options)\n    } else {\n      api.reload('ce148950', component.options)\n    }\n    module.hot.accept(\"./Operation.vue?vue&type=template&id=ce148950&scoped=true&\", function () {\n      api.rerender('ce148950', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/workflowengine/src/components/Operation.vue\"\nexport default component.exports","<template>\r\n\t<div v-if=\"operation\" class=\"section rule\" :style=\"{ borderLeftColor: operation.color || '' }\">\r\n\t\t<div class=\"trigger\">\r\n\t\t\t<p>\r\n\t\t\t\t<span>{{ t('workflowengine', 'When') }}</span>\r\n\t\t\t\t<Event :rule=\"rule\" @update=\"updateRule\" />\r\n\t\t\t</p>\r\n\t\t\t<p v-for=\"(check, index) in rule.checks\" :key=\"index\">\r\n\t\t\t\t<span>{{ t('workflowengine', 'and') }}</span>\r\n\t\t\t\t<Check :check=\"check\"\r\n\t\t\t\t\t:rule=\"rule\"\r\n\t\t\t\t\t@update=\"updateRule\"\r\n\t\t\t\t\t@validate=\"validate\"\r\n\t\t\t\t\t@remove=\"removeCheck(check)\" />\r\n\t\t\t</p>\r\n\t\t\t<p>\r\n\t\t\t\t<span />\r\n\t\t\t\t<input v-if=\"lastCheckComplete\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclass=\"check--add\"\r\n\t\t\t\t\tvalue=\"Add a new filter\"\r\n\t\t\t\t\t@click=\"onAddFilter\">\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t\t<div class=\"flow-icon icon-confirm\" />\r\n\t\t<div class=\"action\">\r\n\t\t\t<Operation :operation=\"operation\" :colored=\"false\">\r\n\t\t\t\t<component :is=\"operation.options\"\r\n\t\t\t\t\tv-if=\"operation.options\"\r\n\t\t\t\t\tv-model=\"rule.operation\"\r\n\t\t\t\t\t@input=\"updateOperation\" />\r\n\t\t\t</Operation>\r\n\t\t\t<div class=\"buttons\">\r\n\t\t\t\t<NcButton v-if=\"rule.id < -1 || dirty\" @click=\"cancelRule\">\r\n\t\t\t\t\t{{ t('workflowengine', 'Cancel') }}\r\n\t\t\t\t</NcButton>\r\n\t\t\t\t<NcButton v-else-if=\"!dirty\" @click=\"deleteRule\">\r\n\t\t\t\t\t{{ t('workflowengine', 'Delete') }}\r\n\t\t\t\t</NcButton>\r\n\t\t\t\t<NcButton :type=\"ruleStatus.type\"\r\n\t\t\t\t\t@click=\"saveRule\">\r\n\t\t\t\t\t<template #icon>\r\n\t\t\t\t\t\t<component :is=\"ruleStatus.icon\" :size=\"20\" />\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t{{ ruleStatus.title }}\r\n\t\t\t\t</NcButton>\r\n\t\t\t</div>\r\n\t\t\t<p v-if=\"error\" class=\"error-message\">\r\n\t\t\t\t{{ error }}\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport Tooltip from '@nextcloud/vue/dist/Directives/Tooltip'\r\nimport NcActions from '@nextcloud/vue/dist/Components/NcActions'\r\nimport NcActionButton from '@nextcloud/vue/dist/Components/NcActionButton'\r\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton'\r\nimport ArrowRight from 'vue-material-design-icons/ArrowRight.vue'\r\nimport CheckMark from 'vue-material-design-icons/Check.vue'\r\nimport Close from 'vue-material-design-icons/Close.vue'\r\n\r\nimport Event from './Event'\r\nimport Check from './Check'\r\nimport Operation from './Operation'\r\n\r\nexport default {\r\n\tname: 'Rule',\r\n\tcomponents: {\r\n\t\tArrowRight,\r\n\t\tCheck,\r\n\t\tCheckMark,\r\n\t\tClose,\r\n\t\tEvent,\r\n\t\tNcActionButton,\r\n\t\tNcActions,\r\n\t\tNcButton,\r\n\t\tOperation,\r\n\t},\r\n\tdirectives: {\r\n\t\tTooltip,\r\n\t},\r\n\tprops: {\r\n\t\trule: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tediting: false,\r\n\t\t\tchecks: [],\r\n\t\t\terror: null,\r\n\t\t\tdirty: this.rule.id < 0,\r\n\t\t\toriginalRule: null,\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\toperation() {\r\n\t\t\treturn this.$store.getters.getOperationForRule(this.rule)\r\n\t\t},\r\n\t\truleStatus() {\r\n\t\t\tif (this.error || !this.rule.valid || this.rule.checks.length === 0 || this.rule.checks.some((check) => check.invalid === true)) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttitle: t('workflowengine', 'The configuration is invalid'),\r\n\t\t\t\t\ticon: 'Close',\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\ttooltip: { placement: 'bottom', show: true, content: this.error },\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!this.dirty) {\r\n\t\t\t\treturn { title: t('workflowengine', 'Active'), icon: 'CheckMark', type: 'success' }\r\n\t\t\t}\r\n\t\t\treturn { title: t('workflowengine', 'Save'), icon: 'ArrowRight', type: 'primary' }\r\n\r\n\t\t},\r\n\t\tlastCheckComplete() {\r\n\t\t\tconst lastCheck = this.rule.checks[this.rule.checks.length - 1]\r\n\t\t\treturn typeof lastCheck === 'undefined' || lastCheck.class !== null\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tthis.originalRule = JSON.parse(JSON.stringify(this.rule))\r\n\t},\r\n\tmethods: {\r\n\t\tasync updateOperation(operation) {\r\n\t\t\tthis.$set(this.rule, 'operation', operation)\r\n\t\t\tawait this.updateRule()\r\n\t\t},\r\n\t\tvalidate(state) {\r\n\t\t\tthis.error = null\r\n\t\t\tthis.$store.dispatch('updateRule', this.rule)\r\n\t\t},\r\n\t\tupdateRule() {\r\n\t\t\tif (!this.dirty) {\r\n\t\t\t\tthis.dirty = true\r\n\t\t\t}\r\n\r\n\t\t\tthis.error = null\r\n\t\t\tthis.$store.dispatch('updateRule', this.rule)\r\n\t\t},\r\n\t\tasync saveRule() {\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('pushUpdateRule', this.rule)\r\n\t\t\t\tthis.dirty = false\r\n\t\t\t\tthis.error = null\r\n\t\t\t\tthis.originalRule = JSON.parse(JSON.stringify(this.rule))\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error('Failed to save operation')\r\n\t\t\t\tthis.error = e.response.data.ocs.meta.message\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync deleteRule() {\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('deleteRule', this.rule)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error('Failed to delete operation')\r\n\t\t\t\tthis.error = e.response.data.ocs.meta.message\r\n\t\t\t}\r\n\t\t},\r\n\t\tcancelRule() {\r\n\t\t\tif (this.rule.id < 0) {\r\n\t\t\t\tthis.$store.dispatch('removeRule', this.rule)\r\n\t\t\t} else {\r\n\t\t\t\tthis.$store.dispatch('updateRule', this.originalRule)\r\n\t\t\t\tthis.originalRule = JSON.parse(JSON.stringify(this.rule))\r\n\t\t\t\tthis.dirty = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync removeCheck(check) {\r\n\t\t\tconst index = this.rule.checks.findIndex(item => item === check)\r\n\t\t\tif (index > -1) {\r\n\t\t\t\tthis.$delete(this.rule.checks, index)\r\n\t\t\t}\r\n\t\t\tthis.$store.dispatch('updateRule', this.rule)\r\n\t\t},\r\n\r\n\t\tonAddFilter() {\r\n\t\t\t// eslint-disable-next-line vue/no-mutating-props\r\n\t\t\tthis.rule.checks.push({ class: null, operator: null, value: '' })\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n\t.buttons {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: end;\r\n\r\n\t\tbutton {\r\n\t\t\tmargin-left: 5px;\r\n\t\t}\r\n\t\tbutton:last-child{\r\n\t\t\tmargin-right: 10px;\r\n\t\t}\r\n\t}\r\n\r\n\t.error-message {\r\n\t\tfloat: right;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t.flow-icon {\r\n\t\twidth: 44px;\r\n\t}\r\n\r\n\t.rule {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tborder-left: 5px solid var(--color-primary-element);\r\n\r\n\t\t.trigger, .action {\r\n\t\t\tflex-grow: 1;\r\n\t\t\tmin-height: 100px;\r\n\t\t\tmax-width: 700px;\r\n\t\t}\r\n\t\t.action {\r\n\t\t\tmax-width: 400px;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\t\t.icon-confirm {\r\n\t\t\tbackground-position: right 27px;\r\n\t\t\tpadding-right: 20px;\r\n\t\t\tmargin-right: 20px;\r\n\t\t}\r\n\t}\r\n\t.trigger p, .action p {\r\n\t\tmin-height: 34px;\r\n\t\tdisplay: flex;\r\n\r\n\t\t& > span {\r\n\t\t\tmin-width: 50px;\r\n\t\t\ttext-align: right;\r\n\t\t\tcolor: var(--color-text-maxcontrast);\r\n\t\t\tpadding-right: 10px;\r\n\t\t\tpadding-top: 6px;\r\n\t\t}\r\n\t\t.multiselect {\r\n\t\t\tflex-grow: 1;\r\n\t\t\tmax-width: 300px;\r\n\t\t}\r\n\t}\r\n\t.trigger p:first-child span {\r\n\t\t\tpadding-top: 3px;\r\n\t}\r\n\r\n\t.check--add {\r\n\t\tbackground-position: 7px center;\r\n\t\tbackground-color: transparent;\r\n\t\tpadding-left: 6px;\r\n\t\tmargin: 0;\r\n\t\twidth: 180px;\r\n\t\tborder-radius: var(--border-radius);\r\n\t\tcolor: var(--color-text-maxcontrast);\r\n\t\tfont-weight: normal;\r\n\t\ttext-align: left;\r\n\t\tfont-size: 1em;\r\n\t}\r\n\r\n\t@media (max-width:1400px) {\r\n\t\t.rule {\r\n\t\t\t&, .trigger, .action {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tmax-width: 100%;\r\n\t\t\t}\r\n\t\t\t.flow-icon {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rule.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rule.vue?vue&type=style&index=0&id=3a24edca&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rule.vue?vue&type=style&index=0&id=3a24edca&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Rule.vue?vue&type=template&id=3a24edca&scoped=true&\"\nimport script from \"./Rule.vue?vue&type=script&lang=js&\"\nexport * from \"./Rule.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Rule.vue?vue&type=style&index=0&id=3a24edca&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a24edca\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\WORKS\\\\BHSoft\\\\Projects\\\\nextcloud-server\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3a24edca')) {\n      api.createRecord('3a24edca', component.options)\n    } else {\n      api.reload('3a24edca', component.options)\n    }\n    module.hot.accept(\"./Rule.vue?vue&type=template&id=3a24edca&scoped=true&\", function () {\n      api.rerender('3a24edca', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/workflowengine/src/components/Rule.vue\"\nexport default component.exports","<template>\r\n\t<div id=\"workflowengine\">\r\n\t\t<NcSettingsSection :title=\"t('workflowengine', 'Available flows')\"\r\n\t\t\t:doc-url=\"workflowDocUrl\">\r\n\t\t\t<p v-if=\"scope === 0\" class=\"settings-hint\">\r\n\t\t\t\t<a href=\"https://nextcloud.com/developer/\">{{ t('workflowengine', 'For details on how to write your own flow, check out the development documentation.') }}</a>\r\n\t\t\t</p>\r\n\r\n\t\t\t<transition-group name=\"slide\" tag=\"div\" class=\"actions\">\r\n\t\t\t\t<Operation v-for=\"operation in getMainOperations\"\r\n\t\t\t\t\t:key=\"operation.id\"\r\n\t\t\t\t\t:operation=\"operation\"\r\n\t\t\t\t\t@click.native=\"createNewRule(operation)\" />\r\n\r\n\t\t\t\t<a v-if=\"showAppStoreHint\"\r\n\t\t\t\t\t:key=\"'add'\"\r\n\t\t\t\t\t:href=\"appstoreUrl\"\r\n\t\t\t\t\tclass=\"actions__item colored more\">\r\n\t\t\t\t\t<div class=\"icon icon-add\" />\r\n\t\t\t\t\t<div class=\"actions__item__description\">\r\n\t\t\t\t\t\t<h3>{{ t('workflowengine', 'More flows') }}</h3>\r\n\t\t\t\t\t\t<small>{{ t('workflowengine', 'Browse the App Store') }}</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</a>\r\n\t\t\t</transition-group>\r\n\r\n\t\t\t<div v-if=\"hasMoreOperations\" class=\"actions__more\">\r\n\t\t\t\t<NcButton @click=\"showMoreOperations = !showMoreOperations\">\r\n\t\t\t\t\t<template #icon>\r\n\t\t\t\t\t\t<MenuUp v-if=\"showMoreOperations\" :size=\"20\" />\r\n\t\t\t\t\t\t<MenuDown v-else :size=\"20\" />\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t{{ showMoreOperations ? t('workflowengine', 'Show less') : t('workflowengine', 'Show more') }}\r\n\t\t\t\t</NcButton>\r\n\t\t\t</div>\r\n\r\n\t\t\t<h2 v-if=\"scope === 0\" class=\"configured-flows\">\r\n\t\t\t\t{{ t('workflowengine', 'Configured flows') }}\r\n\t\t\t</h2>\r\n\t\t\t<h2 v-else class=\"configured-flows\">\r\n\t\t\t\t{{ t('workflowengine', 'Your flows') }}\r\n\t\t\t</h2>\r\n\t\t</NcSettingsSection>\r\n\r\n\t\t<transition-group v-if=\"rules.length > 0\" name=\"slide\">\r\n\t\t\t<Rule v-for=\"rule in rules\" :key=\"rule.id\" :rule=\"rule\" />\r\n\t\t</transition-group>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport Rule from './Rule'\r\nimport Operation from './Operation'\r\nimport NcSettingsSection from '@nextcloud/vue/dist/Components/NcSettingsSection'\r\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton'\r\nimport { mapGetters, mapState } from 'vuex'\r\nimport { generateUrl } from '@nextcloud/router'\r\nimport { loadState } from '@nextcloud/initial-state'\r\nimport MenuUp from 'vue-material-design-icons/MenuUp'\r\nimport MenuDown from 'vue-material-design-icons/MenuDown'\r\n\r\nconst ACTION_LIMIT = 3\r\n\r\nexport default {\r\n\tname: 'Workflow',\r\n\tcomponents: {\r\n\t\tNcButton,\r\n\t\tMenuDown,\r\n\t\tMenuUp,\r\n\t\tOperation,\r\n\t\tRule,\r\n\t\tNcSettingsSection,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tshowMoreOperations: false,\r\n\t\t\tappstoreUrl: generateUrl('settings/apps/workflow'),\r\n\t\t\tworkflowDocUrl: loadState('workflowengine', 'doc-url'),\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters({\r\n\t\t\trules: 'getRules',\r\n\t\t}),\r\n\t\t...mapState({\r\n\t\t\tappstoreEnabled: 'appstoreEnabled',\r\n\t\t\tscope: 'scope',\r\n\t\t\toperations: 'operations',\r\n\t\t}),\r\n\t\thasMoreOperations() {\r\n\t\t\treturn Object.keys(this.operations).length > ACTION_LIMIT\r\n\t\t},\r\n\t\tgetMainOperations() {\r\n\t\t\tif (this.showMoreOperations) {\r\n\t\t\t\treturn Object.values(this.operations)\r\n\t\t\t}\r\n\t\t\treturn Object.values(this.operations).slice(0, ACTION_LIMIT)\r\n\t\t},\r\n\t\tshowAppStoreHint() {\r\n\t\t\treturn this.scope === 0 && this.appstoreEnabled && OC.isUserAdmin()\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$store.dispatch('fetchRules')\r\n\t},\r\n\tmethods: {\r\n\t\tcreateNewRule(operation) {\r\n\t\t\tthis.$store.dispatch('createNewRule', operation)\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t#workflowengine {\r\n\t\tborder-bottom: 1px solid var(--color-border);\r\n\t}\r\n\t.section {\r\n\t\tmax-width: 100vw;\r\n\r\n\t\th2.configured-flows {\r\n\t\t\tmargin-top: 50px;\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\t}\r\n\t.actions {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tmax-width: 1200px;\r\n\t\t.actions__item {\r\n\t\t\tmax-width: 280px;\r\n\t\t\tflex-basis: 250px;\r\n\t\t}\r\n\t}\r\n\t.actions__more {\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t.slide-enter-active {\r\n\t\t-moz-transition-duration: 0.3s;\r\n\t\t-webkit-transition-duration: 0.3s;\r\n\t\t-o-transition-duration: 0.3s;\r\n\t\ttransition-duration: 0.3s;\r\n\t\t-moz-transition-timing-function: ease-in;\r\n\t\t-webkit-transition-timing-function: ease-in;\r\n\t\t-o-transition-timing-function: ease-in;\r\n\t\ttransition-timing-function: ease-in;\r\n\t}\r\n\r\n\t.slide-leave-active {\r\n\t\t-moz-transition-duration: 0.3s;\r\n\t\t-webkit-transition-duration: 0.3s;\r\n\t\t-o-transition-duration: 0.3s;\r\n\t\ttransition-duration: 0.3s;\r\n\t\t-moz-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\r\n\t\t-webkit-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\r\n\t\t-o-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\r\n\t\ttransition-timing-function: cubic-bezier(0, 1, 0.5, 1);\r\n\t}\r\n\r\n\t.slide-enter-to, .slide-leave {\r\n\t\tmax-height: 500px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.slide-enter, .slide-leave-to {\r\n\t\toverflow: hidden;\r\n\t\tmax-height: 0;\r\n\t\tpadding-top: 0;\r\n\t\tpadding-bottom: 0;\r\n\t}\r\n\r\n\t@import \"./../styles/operation\";\r\n\r\n\t.actions__item.more {\r\n\t\tbackground-color: var(--color-background-dark);\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workflow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workflow.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workflow.vue?vue&type=style&index=0&id=a7f0d644&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workflow.vue?vue&type=style&index=0&id=a7f0d644&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Workflow.vue?vue&type=template&id=a7f0d644&scoped=true&\"\nimport script from \"./Workflow.vue?vue&type=script&lang=js&\"\nexport * from \"./Workflow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Workflow.vue?vue&type=style&index=0&id=a7f0d644&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a7f0d644\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\WORKS\\\\BHSoft\\\\Projects\\\\nextcloud-server\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('a7f0d644')) {\n      api.createRecord('a7f0d644', component.options)\n    } else {\n      api.reload('a7f0d644', component.options)\n    }\n    module.hot.accept(\"./Workflow.vue?vue&type=template&id=a7f0d644&scoped=true&\", function () {\n      api.rerender('a7f0d644', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/workflowengine/src/components/Workflow.vue\"\nexport default component.exports","/**\r\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @author Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nconst regexRegex = /^\\/(.*)\\/([gui]{0,3})$/\r\nconst regexIPv4 = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\/(3[0-2]|[1-2][0-9]|[1-9])$/\r\nconst regexIPv6 = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(1([01][0-9]|2[0-8])|[1-9][0-9]|[0-9])$/\r\n\r\nconst validateRegex = function(string) {\r\n\tif (!string) {\r\n\t\treturn false\r\n\t}\r\n\treturn regexRegex.exec(string) !== null\r\n}\r\n\r\nconst validateIPv4 = function(string) {\r\n\tif (!string) {\r\n\t\treturn false\r\n\t}\r\n\treturn regexIPv4.exec(string) !== null\r\n}\r\n\r\nconst validateIPv6 = function(string) {\r\n\tif (!string) {\r\n\t\treturn false\r\n\t}\r\n\treturn regexIPv6.exec(string) !== null\r\n}\r\n\r\nconst stringValidator = (check) => {\r\n\tif (check.operator === 'matches' || check.operator === '!matches') {\r\n\t\treturn validateRegex(check.value)\r\n\t}\r\n\treturn true\r\n}\r\n\r\nexport { validateRegex, stringValidator, validateIPv4, validateIPv6 }\r\n","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\"NcMultiselect\", {\n        attrs: {\n          value: _vm.currentValue,\n          placeholder: _vm.t(\"workflowengine\", \"Select a file type\"),\n          label: \"label\",\n          \"track-by\": \"pattern\",\n          options: _vm.options,\n          multiple: false,\n          tagging: false,\n        },\n        on: { input: _vm.setValue },\n        scopedSlots: _vm._u([\n          {\n            key: \"singleLabel\",\n            fn: function (props) {\n              return [\n                props.option.icon\n                  ? _c(\"span\", {\n                      staticClass: \"option__icon\",\n                      class: props.option.icon,\n                    })\n                  : _c(\"img\", {\n                      staticClass: \"option__icon-img\",\n                      attrs: { src: props.option.iconUrl, alt: \"\" },\n                    }),\n                _vm._v(\" \"),\n                _c(\n                  \"span\",\n                  { staticClass: \"option__title option__title_single\" },\n                  [_vm._v(_vm._s(props.option.label))]\n                ),\n              ]\n            },\n          },\n          {\n            key: \"option\",\n            fn: function (props) {\n              return [\n                props.option.icon\n                  ? _c(\"span\", {\n                      staticClass: \"option__icon\",\n                      class: props.option.icon,\n                    })\n                  : _c(\"img\", {\n                      staticClass: \"option__icon-img\",\n                      attrs: { src: props.option.iconUrl, alt: \"\" },\n                    }),\n                _vm._v(\" \"),\n                _c(\"span\", { staticClass: \"option__title\" }, [\n                  _vm._v(_vm._s(props.option.label)),\n                ]),\n              ]\n            },\n          },\n        ]),\n      }),\n      _vm._v(\" \"),\n      !_vm.isPredefined\n        ? _c(\"input\", {\n            attrs: {\n              type: \"text\",\n              placeholder: _vm.t(\"workflowengine\", \"e.g. httpd/unix-directory\"),\n            },\n            domProps: { value: _vm.currentValue.pattern },\n            on: { input: _vm.updateCustom },\n          })\n        : _vm._e(),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","/**\r\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n * @author Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nconst valueMixin = {\r\n\tprops: {\r\n\t\tvalue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t\tcheck: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => { return {} },\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tnewValue: '',\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tvalue: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler(value) {\r\n\t\t\t\tthis.updateInternalValue(value)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tupdateInternalValue(value) {\r\n\t\t\tthis.newValue = value\r\n\t\t},\r\n\t},\r\n}\r\n\r\nexport default valueMixin\r\n","<!--\r\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\r\n  -\r\n  - @author Julius Härtl <jus@bitgrid.net>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n  -\r\n  -->\r\n\r\n<template>\r\n\t<div>\r\n\t\t<NcMultiselect :value=\"currentValue\"\r\n\t\t\t:placeholder=\"t('workflowengine', 'Select a file type')\"\r\n\t\t\tlabel=\"label\"\r\n\t\t\ttrack-by=\"pattern\"\r\n\t\t\t:options=\"options\"\r\n\t\t\t:multiple=\"false\"\r\n\t\t\t:tagging=\"false\"\r\n\t\t\t@input=\"setValue\">\r\n\t\t\t<template slot=\"singleLabel\" slot-scope=\"props\">\r\n\t\t\t\t<span v-if=\"props.option.icon\" class=\"option__icon\" :class=\"props.option.icon\" />\r\n\t\t\t\t<img v-else\r\n\t\t\t\t\tclass=\"option__icon-img\"\r\n\t\t\t\t\t:src=\"props.option.iconUrl\"\r\n\t\t\t\t\talt=\"\">\r\n\t\t\t\t<span class=\"option__title option__title_single\">{{ props.option.label }}</span>\r\n\t\t\t</template>\r\n\t\t\t<template slot=\"option\" slot-scope=\"props\">\r\n\t\t\t\t<span v-if=\"props.option.icon\" class=\"option__icon\" :class=\"props.option.icon\" />\r\n\t\t\t\t<img v-else\r\n\t\t\t\t\tclass=\"option__icon-img\"\r\n\t\t\t\t\t:src=\"props.option.iconUrl\"\r\n\t\t\t\t\talt=\"\">\r\n\t\t\t\t<span class=\"option__title\">{{ props.option.label }}</span>\r\n\t\t\t</template>\r\n\t\t</NcMultiselect>\r\n\t\t<input v-if=\"!isPredefined\"\r\n\t\t\ttype=\"text\"\r\n\t\t\t:value=\"currentValue.pattern\"\r\n\t\t\t:placeholder=\"t('workflowengine', 'e.g. httpd/unix-directory')\"\r\n\t\t\t@input=\"updateCustom\">\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport NcMultiselect from '@nextcloud/vue/dist/Components/NcMultiselect'\r\nimport valueMixin from './../../mixins/valueMixin'\r\nimport { imagePath } from '@nextcloud/router'\r\n\r\nexport default {\r\n\tname: 'FileMimeType',\r\n\tcomponents: {\r\n\t\tNcMultiselect,\r\n\t},\r\n\tmixins: [\r\n\t\tvalueMixin,\r\n\t],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tpredefinedTypes: [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: 'icon-folder',\r\n\t\t\t\t\tlabel: t('workflowengine', 'Folder'),\r\n\t\t\t\t\tpattern: 'httpd/unix-directory',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: 'icon-picture',\r\n\t\t\t\t\tlabel: t('workflowengine', 'Images'),\r\n\t\t\t\t\tpattern: '/image\\\\/.*/',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ticonUrl: imagePath('core', 'filetypes/x-office-document'),\r\n\t\t\t\t\tlabel: t('workflowengine', 'Office documents'),\r\n\t\t\t\t\tpattern: '/(vnd\\\\.(ms-|openxmlformats-|oasis\\\\.opendocument).*)$/',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ticonUrl: imagePath('core', 'filetypes/application-pdf'),\r\n\t\t\t\t\tlabel: t('workflowengine', 'PDF documents'),\r\n\t\t\t\t\tpattern: 'application/pdf',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\toptions() {\r\n\t\t\treturn [...this.predefinedTypes, this.customValue]\r\n\t\t},\r\n\t\tisPredefined() {\r\n\t\t\tconst matchingPredefined = this.predefinedTypes.find((type) => this.newValue === type.pattern)\r\n\t\t\tif (matchingPredefined) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t\treturn false\r\n\t\t},\r\n\t\tcustomValue() {\r\n\t\t\treturn {\r\n\t\t\t\ticon: 'icon-settings-dark',\r\n\t\t\t\tlabel: t('workflowengine', 'Custom MIME type'),\r\n\t\t\t\tpattern: '',\r\n\t\t\t}\r\n\t\t},\r\n\t\tcurrentValue() {\r\n\t\t\tconst matchingPredefined = this.predefinedTypes.find((type) => this.newValue === type.pattern)\r\n\t\t\tif (matchingPredefined) {\r\n\t\t\t\treturn matchingPredefined\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ticon: 'icon-settings-dark',\r\n\t\t\t\tlabel: t('workflowengine', 'Custom mimetype'),\r\n\t\t\t\tpattern: this.newValue,\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tvalidateRegex(string) {\r\n\t\t\tconst regexRegex = /^\\/(.*)\\/([gui]{0,3})$/\r\n\t\t\tconst result = regexRegex.exec(string)\r\n\t\t\treturn result !== null\r\n\t\t},\r\n\t\tsetValue(value) {\r\n\t\t\tif (value !== null) {\r\n\t\t\t\tthis.newValue = value.pattern\r\n\t\t\t\tthis.$emit('input', this.newValue)\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateCustom(event) {\r\n\t\t\tthis.newValue = event.target.value\r\n\t\t\tthis.$emit('input', this.newValue)\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n\t.multiselect, input[type='text'] {\r\n\t\twidth: 100%;\r\n\t}\r\n\t.multiselect >>> .multiselect__content-wrapper li>span,\r\n\t.multiselect >>> .multiselect__single {\r\n\t\tdisplay: flex;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\r\n\t.option__icon {\r\n\t\tdisplay: inline-block;\r\n\t\tmin-width: 30px;\r\n\t\tbackground-position: left;\r\n\t}\r\n\r\n\t.option__icon-img {\r\n\t\tmargin-right: 14px;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileMimeType.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileMimeType.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileMimeType.vue?vue&type=style&index=0&id=1d6fa99f&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileMimeType.vue?vue&type=style&index=0&id=1d6fa99f&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./FileMimeType.vue?vue&type=template&id=1d6fa99f&scoped=true&\"\nimport script from \"./FileMimeType.vue?vue&type=script&lang=js&\"\nexport * from \"./FileMimeType.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileMimeType.vue?vue&type=style&index=0&id=1d6fa99f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d6fa99f\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\WORKS\\\\BHSoft\\\\Projects\\\\nextcloud-server\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('1d6fa99f')) {\n      api.createRecord('1d6fa99f', component.options)\n    } else {\n      api.reload('1d6fa99f', component.options)\n    }\n    module.hot.accept(\"./FileMimeType.vue?vue&type=template&id=1d6fa99f&scoped=true&\", function () {\n      api.rerender('1d6fa99f', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/workflowengine/src/components/Checks/FileMimeType.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"MultiselectTags\", {\n    attrs: { multiple: false },\n    on: { input: _vm.update },\n    model: {\n      value: _vm.newValue,\n      callback: function ($$v) {\n        _vm.newValue = $$v\n      },\n      expression: \"newValue\",\n    },\n  })\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileSystemTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileSystemTag.vue?vue&type=script&lang=js&\"","<!--\r\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\r\n  -\r\n  - @author Julius Härtl <jus@bitgrid.net>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n  -\r\n  -->\r\n\r\n<template>\r\n\t<MultiselectTags v-model=\"newValue\"\r\n\t\t:multiple=\"false\"\r\n\t\t@input=\"update\" />\r\n</template>\r\n\r\n<script>\r\nimport MultiselectTags from '@nextcloud/vue/dist/Components/NcMultiselectTags.js'\r\n\r\nexport default {\r\n\tname: 'FileSystemTag',\r\n\tcomponents: {\r\n\t\tMultiselectTags,\r\n\t},\r\n\tprops: {\r\n\t\tvalue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tnewValue: [],\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tvalue() {\r\n\t\t\tthis.updateValue()\r\n\t\t},\r\n\t},\r\n\tbeforeMount() {\r\n\t\tthis.updateValue()\r\n\t},\r\n\tmethods: {\r\n\t\tupdateValue() {\r\n\t\t\tif (this.value !== '') {\r\n\t\t\t\tthis.newValue = this.value\r\n\t\t\t} else {\r\n\t\t\t\tthis.newValue = null\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdate() {\r\n\t\t\tthis.$emit('input', this.newValue || '')\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render, staticRenderFns } from \"./FileSystemTag.vue?vue&type=template&id=c54c72ac&scoped=true&\"\nimport script from \"./FileSystemTag.vue?vue&type=script&lang=js&\"\nexport * from \"./FileSystemTag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c54c72ac\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\WORKS\\\\BHSoft\\\\Projects\\\\nextcloud-server\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('c54c72ac')) {\n      api.createRecord('c54c72ac', component.options)\n    } else {\n      api.reload('c54c72ac', component.options)\n    }\n    module.hot.accept(\"./FileSystemTag.vue?vue&type=template&id=c54c72ac&scoped=true&\", function () {\n      api.rerender('c54c72ac', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/workflowengine/src/components/Checks/FileSystemTag.vue\"\nexport default component.exports","/**\r\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @author Arthur Schiwon <blizzz@arthur-schiwon.de>\r\n * @author Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport { stringValidator, validateIPv4, validateIPv6 } from '../../helpers/validators'\r\nimport FileMimeType from './FileMimeType'\r\nimport FileSystemTag from './FileSystemTag'\r\n\r\nconst stringOrRegexOperators = () => {\r\n\treturn [\r\n\t\t{ operator: 'matches', name: t('workflowengine', 'matches') },\r\n\t\t{ operator: '!matches', name: t('workflowengine', 'does not match') },\r\n\t\t{ operator: 'is', name: t('workflowengine', 'is') },\r\n\t\t{ operator: '!is', name: t('workflowengine', 'is not') },\r\n\t]\r\n}\r\n\r\nconst FileChecks = [\r\n\t{\r\n\t\tclass: 'OCA\\\\WorkflowEngine\\\\Check\\\\FileName',\r\n\t\tname: t('workflowengine', 'File name'),\r\n\t\toperators: stringOrRegexOperators,\r\n\t\tplaceholder: (check) => {\r\n\t\t\tif (check.operator === 'matches' || check.operator === '!matches') {\r\n\t\t\t\treturn '/^dummy-.+$/i'\r\n\t\t\t}\r\n\t\t\treturn 'filename.txt'\r\n\t\t},\r\n\t\tvalidate: stringValidator,\r\n\t},\r\n\r\n\t{\r\n\t\tclass: 'OCA\\\\WorkflowEngine\\\\Check\\\\FileMimeType',\r\n\t\tname: t('workflowengine', 'File MIME type'),\r\n\t\toperators: stringOrRegexOperators,\r\n\t\tcomponent: FileMimeType,\r\n\t},\r\n\r\n\t{\r\n\t\tclass: 'OCA\\\\WorkflowEngine\\\\Check\\\\FileSize',\r\n\t\tname: t('workflowengine', 'File size (upload)'),\r\n\t\toperators: [\r\n\t\t\t{ operator: 'less', name: t('workflowengine', 'less') },\r\n\t\t\t{ operator: '!greater', name: t('workflowengine', 'less or equals') },\r\n\t\t\t{ operator: '!less', name: t('workflowengine', 'greater or equals') },\r\n\t\t\t{ operator: 'greater', name: t('workflowengine', 'greater') },\r\n\t\t],\r\n\t\tplaceholder: (check) => '5 MB',\r\n\t\tvalidate: (check) => check.value ? check.value.match(/^[0-9]+[ ]?[kmgt]?b$/i) !== null : false,\r\n\t},\r\n\r\n\t{\r\n\t\tclass: 'OCA\\\\WorkflowEngine\\\\Check\\\\RequestRemoteAddress',\r\n\t\tname: t('workflowengine', 'Request remote address'),\r\n\t\toperators: [\r\n\t\t\t{ operator: 'matchesIPv4', name: t('workflowengine', 'matches IPv4') },\r\n\t\t\t{ operator: '!matchesIPv4', name: t('workflowengine', 'does not match IPv4') },\r\n\t\t\t{ operator: 'matchesIPv6', name: t('workflowengine', 'matches IPv6') },\r\n\t\t\t{ operator: '!matchesIPv6', name: t('workflowengine', 'does not match IPv6') },\r\n\t\t],\r\n\t\tplaceholder: (check) => {\r\n\t\t\tif (check.operator === 'matchesIPv6' || check.operator === '!matchesIPv6') {\r\n\t\t\t\treturn '::1/128'\r\n\t\t\t}\r\n\t\t\treturn '127.0.0.1/32'\r\n\t\t},\r\n\t\tvalidate: (check) => {\r\n\t\t\tif (check.operator === 'matchesIPv6' || check.operator === '!matchesIPv6') {\r\n\t\t\t\treturn validateIPv6(check.value)\r\n\t\t\t}\r\n\t\t\treturn validateIPv4(check.value)\r\n\t\t},\r\n\t},\r\n\r\n\t{\r\n\t\tclass: 'OCA\\\\WorkflowEngine\\\\Check\\\\FileSystemTags',\r\n\t\tname: t('workflowengine', 'File system tag'),\r\n\t\toperators: [\r\n\t\t\t{ operator: 'is', name: t('workflowengine', 'is tagged with') },\r\n\t\t\t{ operator: '!is', name: t('workflowengine', 'is not tagged with') },\r\n\t\t],\r\n\t\tcomponent: FileSystemTag,\r\n\t},\r\n]\r\n\r\nexport default FileChecks\r\n","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\"NcMultiselect\", {\n        attrs: {\n          value: _vm.currentValue,\n          placeholder: _vm.t(\"workflowengine\", \"Select a user agent\"),\n          label: \"label\",\n          \"track-by\": \"pattern\",\n          options: _vm.options,\n          multiple: false,\n          tagging: false,\n        },\n        on: { input: _vm.setValue },\n        scopedSlots: _vm._u([\n          {\n            key: \"singleLabel\",\n            fn: function (props) {\n              return [\n                _c(\"span\", {\n                  staticClass: \"option__icon\",\n                  class: props.option.icon,\n                }),\n                _vm._v(\" \"),\n                _c(\"span\", {\n                  staticClass: \"option__title option__title_single\",\n                  domProps: { innerHTML: _vm._s(props.option.label) },\n                }),\n              ]\n            },\n          },\n          {\n            key: \"option\",\n            fn: function (props) {\n              return [\n                _c(\"span\", {\n                  staticClass: \"option__icon\",\n                  class: props.option.icon,\n                }),\n                _vm._v(\" \"),\n                props.option.$groupLabel\n                  ? _c(\"span\", {\n                      staticClass: \"option__title\",\n                      domProps: { innerHTML: _vm._s(props.option.$groupLabel) },\n                    })\n                  : _c(\"span\", {\n                      staticClass: \"option__title\",\n                      domProps: { innerHTML: _vm._s(props.option.label) },\n                    }),\n              ]\n            },\n          },\n        ]),\n      }),\n      _vm._v(\" \"),\n      !_vm.isPredefined\n        ? _c(\"input\", {\n            attrs: { type: \"text\" },\n            domProps: { value: _vm.currentValue.pattern },\n            on: { input: _vm.updateCustom },\n          })\n        : _vm._e(),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!--\r\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\r\n  -\r\n  - @author Julius Härtl <jus@bitgrid.net>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n  -\r\n  -->\r\n\r\n<template>\r\n\t<div>\r\n\t\t<NcMultiselect :value=\"currentValue\"\r\n\t\t\t:placeholder=\"t('workflowengine', 'Select a user agent')\"\r\n\t\t\tlabel=\"label\"\r\n\t\t\ttrack-by=\"pattern\"\r\n\t\t\t:options=\"options\"\r\n\t\t\t:multiple=\"false\"\r\n\t\t\t:tagging=\"false\"\r\n\t\t\t@input=\"setValue\">\r\n\t\t\t<template slot=\"singleLabel\" slot-scope=\"props\">\r\n\t\t\t\t<span class=\"option__icon\" :class=\"props.option.icon\" />\r\n\t\t\t\t<!-- v-html can be used here as t() always passes our translated strings though DOMPurify.sanitize -->\r\n\t\t\t\t<!-- eslint-disable-next-line vue/no-v-html -->\r\n\t\t\t\t<span class=\"option__title option__title_single\" v-html=\"props.option.label\" />\r\n\t\t\t</template>\r\n\t\t\t<template slot=\"option\" slot-scope=\"props\">\r\n\t\t\t\t<span class=\"option__icon\" :class=\"props.option.icon\" />\r\n\t\t\t\t<!-- eslint-disable-next-line vue/no-v-html -->\r\n\t\t\t\t<span v-if=\"props.option.$groupLabel\" class=\"option__title\" v-html=\"props.option.$groupLabel\" />\r\n\t\t\t\t<!-- eslint-disable-next-line vue/no-v-html -->\r\n\t\t\t\t<span v-else class=\"option__title\" v-html=\"props.option.label\" />\r\n\t\t\t</template>\r\n\t\t</NcMultiselect>\r\n\t\t<input v-if=\"!isPredefined\"\r\n\t\t\ttype=\"text\"\r\n\t\t\t:value=\"currentValue.pattern\"\r\n\t\t\t@input=\"updateCustom\">\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport NcMultiselect from '@nextcloud/vue/dist/Components/NcMultiselect'\r\nimport valueMixin from '../../mixins/valueMixin'\r\n\r\nexport default {\r\n\tname: 'RequestUserAgent',\r\n\tcomponents: {\r\n\t\tNcMultiselect,\r\n\t},\r\n\tmixins: [\r\n\t\tvalueMixin,\r\n\t],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tnewValue: '',\r\n\t\t\tpredefinedTypes: [\r\n\t\t\t\t{ pattern: 'android', label: t('workflowengine', 'Android client'), icon: 'icon-phone' },\r\n\t\t\t\t{ pattern: 'ios', label: t('workflowengine', 'iOS client'), icon: 'icon-phone' },\r\n\t\t\t\t{ pattern: 'desktop', label: t('workflowengine', 'Desktop client'), icon: 'icon-desktop' },\r\n\t\t\t\t{ pattern: 'mail', label: t('workflowengine', 'Thunderbird & Outlook addons'), icon: 'icon-mail' },\r\n\t\t\t],\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\toptions() {\r\n\t\t\treturn [...this.predefinedTypes, this.customValue]\r\n\t\t},\r\n\t\tmatchingPredefined() {\r\n\t\t\treturn this.predefinedTypes\r\n\t\t\t\t.find((type) => this.newValue === type.pattern)\r\n\t\t},\r\n\t\tisPredefined() {\r\n\t\t\treturn !!this.matchingPredefined\r\n\t\t},\r\n\t\tcustomValue() {\r\n\t\t\treturn {\r\n\t\t\t\ticon: 'icon-settings-dark',\r\n\t\t\t\tlabel: t('workflowengine', 'Custom user agent'),\r\n\t\t\t\tpattern: '',\r\n\t\t\t}\r\n\t\t},\r\n\t\tcurrentValue() {\r\n\t\t\tif (this.matchingPredefined) {\r\n\t\t\t\treturn this.matchingPredefined\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ticon: 'icon-settings-dark',\r\n\t\t\t\tlabel: t('workflowengine', 'Custom user agent'),\r\n\t\t\t\tpattern: this.newValue,\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tvalidateRegex(string) {\r\n\t\t\tconst regexRegex = /^\\/(.*)\\/([gui]{0,3})$/\r\n\t\t\tconst result = regexRegex.exec(string)\r\n\t\t\treturn result !== null\r\n\t\t},\r\n\t\tsetValue(value) {\r\n\t\t\t// TODO: check if value requires a regex and set the check operator according to that\r\n\t\t\tif (value !== null) {\r\n\t\t\t\tthis.newValue = value.pattern\r\n\t\t\t\tthis.$emit('input', this.newValue)\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateCustom(event) {\r\n\t\t\tthis.newValue = event.target.value\r\n\t\t\tthis.$emit('input', this.newValue)\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n<style scoped>\r\n\t.multiselect, input[type='text'] {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.multiselect .multiselect__content-wrapper li>span {\r\n\t\tdisplay: flex;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\t.multiselect::v-deep .multiselect__single {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\t.option__icon {\r\n\t\tdisplay: inline-block;\r\n\t\tmin-width: 30px;\r\n\t\tbackground-position: left;\r\n\t}\r\n\t.option__title {\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestUserAgent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestUserAgent.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestUserAgent.vue?vue&type=style&index=0&id=f3bfa8c0&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestUserAgent.vue?vue&type=style&index=0&id=f3bfa8c0&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./RequestUserAgent.vue?vue&type=template&id=f3bfa8c0&scoped=true&\"\nimport script from \"./RequestUserAgent.vue?vue&type=script&lang=js&\"\nexport * from \"./RequestUserAgent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RequestUserAgent.vue?vue&type=style&index=0&id=f3bfa8c0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f3bfa8c0\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\WORKS\\\\BHSoft\\\\Projects\\\\nextcloud-server\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('f3bfa8c0')) {\n      api.createRecord('f3bfa8c0', component.options)\n    } else {\n      api.reload('f3bfa8c0', component.options)\n    }\n    module.hot.accept(\"./RequestUserAgent.vue?vue&type=template&id=f3bfa8c0&scoped=true&\", function () {\n      api.rerender('f3bfa8c0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/workflowengine/src/components/Checks/RequestUserAgent.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"timeslot\" },\n    [\n      _c(\"input\", {\n        directives: [\n          {\n            name: \"model\",\n            rawName: \"v-model\",\n            value: _vm.newValue.startTime,\n            expression: \"newValue.startTime\",\n          },\n        ],\n        staticClass: \"timeslot--start\",\n        attrs: { type: \"text\", placeholder: \"e.g. 08:00\" },\n        domProps: { value: _vm.newValue.startTime },\n        on: {\n          input: [\n            function ($event) {\n              if ($event.target.composing) {\n                return\n              }\n              _vm.$set(_vm.newValue, \"startTime\", $event.target.value)\n            },\n            _vm.update,\n          ],\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"input\", {\n        directives: [\n          {\n            name: \"model\",\n            rawName: \"v-model\",\n            value: _vm.newValue.endTime,\n            expression: \"newValue.endTime\",\n          },\n        ],\n        attrs: { type: \"text\", placeholder: \"e.g. 18:00\" },\n        domProps: { value: _vm.newValue.endTime },\n        on: {\n          input: [\n            function ($event) {\n              if ($event.target.composing) {\n                return\n              }\n              _vm.$set(_vm.newValue, \"endTime\", $event.target.value)\n            },\n            _vm.update,\n          ],\n        },\n      }),\n      _vm._v(\" \"),\n      !_vm.valid\n        ? _c(\"p\", { staticClass: \"invalid-hint\" }, [\n            _vm._v(\n              \"\\n\\t\\t\" +\n                _vm._s(\n                  _vm.t(\"workflowengine\", \"Please enter a valid time span\")\n                ) +\n                \"\\n\\t\"\n            ),\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"NcMultiselect\", {\n        directives: [\n          {\n            name: \"show\",\n            rawName: \"v-show\",\n            value: _vm.valid,\n            expression: \"valid\",\n          },\n        ],\n        attrs: { options: _vm.timezones },\n        on: { input: _vm.update },\n        model: {\n          value: _vm.newValue.timezone,\n          callback: function ($$v) {\n            _vm.$set(_vm.newValue, \"timezone\", $$v)\n          },\n          expression: \"newValue.timezone\",\n        },\n      }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"timeslot\">\r\n\t\t<input v-model=\"newValue.startTime\"\r\n\t\t\ttype=\"text\"\r\n\t\t\tclass=\"timeslot--start\"\r\n\t\t\tplaceholder=\"e.g. 08:00\"\r\n\t\t\t@input=\"update\">\r\n\t\t<input v-model=\"newValue.endTime\"\r\n\t\t\ttype=\"text\"\r\n\t\t\tplaceholder=\"e.g. 18:00\"\r\n\t\t\t@input=\"update\">\r\n\t\t<p v-if=\"!valid\" class=\"invalid-hint\">\r\n\t\t\t{{ t('workflowengine', 'Please enter a valid time span') }}\r\n\t\t</p>\r\n\t\t<NcMultiselect v-show=\"valid\"\r\n\t\t\tv-model=\"newValue.timezone\"\r\n\t\t\t:options=\"timezones\"\r\n\t\t\t@input=\"update\" />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport NcMultiselect from '@nextcloud/vue/dist/Components/NcMultiselect'\r\nimport moment from 'moment-timezone'\r\nimport valueMixin from '../../mixins/valueMixin'\r\n\r\nconst zones = moment.tz.names()\r\nexport default {\r\n\tname: 'RequestTime',\r\n\tcomponents: {\r\n\t\tNcMultiselect,\r\n\t},\r\n\tmixins: [\r\n\t\tvalueMixin,\r\n\t],\r\n\tprops: {\r\n\t\tvalue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttimezones: zones,\r\n\t\t\tvalid: false,\r\n\t\t\tnewValue: {\r\n\t\t\t\tstartTime: null,\r\n\t\t\t\tendTime: null,\r\n\t\t\t\ttimezone: moment.tz.guess(),\r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.validate()\r\n\t},\r\n\tmethods: {\r\n\t\tupdateInternalValue(value) {\r\n\t\t\ttry {\r\n\t\t\t\tconst data = JSON.parse(value)\r\n\t\t\t\tif (data.length === 2) {\r\n\t\t\t\t\tthis.newValue = {\r\n\t\t\t\t\t\tstartTime: data[0].split(' ', 2)[0],\r\n\t\t\t\t\t\tendTime: data[1].split(' ', 2)[0],\r\n\t\t\t\t\t\ttimezone: data[0].split(' ', 2)[1],\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// ignore invalid values\r\n\t\t\t}\r\n\t\t},\r\n\t\tvalidate() {\r\n\t\t\tthis.valid = this.newValue.startTime && this.newValue.startTime.match(/^(0[0-9]|1[0-9]|2[0-3]|[0-9]):[0-5][0-9]$/i) !== null\r\n\t\t\t\t&& this.newValue.endTime && this.newValue.endTime.match(/^(0[0-9]|1[0-9]|2[0-3]|[0-9]):[0-5][0-9]$/i) !== null\r\n\t\t\t\t&& moment.tz.zone(this.newValue.timezone) !== null\r\n\t\t\tif (this.valid) {\r\n\t\t\t\tthis.$emit('valid')\r\n\t\t\t} else {\r\n\t\t\t\tthis.$emit('invalid')\r\n\t\t\t}\r\n\t\t\treturn this.valid\r\n\t\t},\r\n\t\tupdate() {\r\n\t\t\tif (this.newValue.timezone === null) {\r\n\t\t\t\tthis.newValue.timezone = moment.tz.guess()\r\n\t\t\t}\r\n\t\t\tif (this.validate()) {\r\n\t\t\t\tconst output = `[\"${this.newValue.startTime} ${this.newValue.timezone}\",\"${this.newValue.endTime} ${this.newValue.timezone}\"]`\r\n\t\t\t\tthis.$emit('input', output)\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.timeslot {\r\n\t\tdisplay: flex;\r\n\t\tflex-grow: 1;\r\n\t\tflex-wrap: wrap;\r\n\t\tmax-width: 180px;\r\n\r\n\t\t.multiselect {\r\n\t\t\twidth: 100%;\r\n\t\t\tmargin-bottom: 5px;\r\n\t\t}\r\n\r\n\t\t.multiselect::v-deep .multiselect__tags:not(:hover):not(:focus):not(:active) {\r\n\t\t\tborder: 1px solid transparent;\r\n\t\t}\r\n\r\n\t\tinput[type=text] {\r\n\t\t\twidth: 50%;\r\n\t\t\tmargin: 0;\r\n\t\t\tmargin-bottom: 5px;\r\n\r\n\t\t\t&.timeslot--start {\r\n\t\t\t\tmargin-right: 5px;\r\n\t\t\t\twidth: calc(50% - 5px);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.invalid-hint {\r\n\t\t\tcolor: var(--color-text-maxcontrast);\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestTime.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestTime.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestTime.vue?vue&type=style&index=0&id=53b6e3d2&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestTime.vue?vue&type=style&index=0&id=53b6e3d2&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./RequestTime.vue?vue&type=template&id=53b6e3d2&scoped=true&\"\nimport script from \"./RequestTime.vue?vue&type=script&lang=js&\"\nexport * from \"./RequestTime.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RequestTime.vue?vue&type=style&index=0&id=53b6e3d2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53b6e3d2\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\WORKS\\\\BHSoft\\\\Projects\\\\nextcloud-server\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('53b6e3d2')) {\n      api.createRecord('53b6e3d2', component.options)\n    } else {\n      api.reload('53b6e3d2', component.options)\n    }\n    module.hot.accept(\"./RequestTime.vue?vue&type=template&id=53b6e3d2&scoped=true&\", function () {\n      api.rerender('53b6e3d2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/workflowengine/src/components/Checks/RequestTime.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\"NcMultiselect\", {\n        attrs: {\n          value: _vm.currentValue,\n          placeholder: _vm.t(\"workflowengine\", \"Select a request URL\"),\n          label: \"label\",\n          \"track-by\": \"pattern\",\n          \"group-values\": \"children\",\n          \"group-label\": \"label\",\n          options: _vm.options,\n          multiple: false,\n          tagging: false,\n        },\n        on: { input: _vm.setValue },\n        scopedSlots: _vm._u([\n          {\n            key: \"singleLabel\",\n            fn: function (props) {\n              return [\n                _c(\"span\", {\n                  staticClass: \"option__icon\",\n                  class: props.option.icon,\n                }),\n                _vm._v(\" \"),\n                _c(\n                  \"span\",\n                  { staticClass: \"option__title option__title_single\" },\n                  [_vm._v(_vm._s(props.option.label))]\n                ),\n              ]\n            },\n          },\n          {\n            key: \"option\",\n            fn: function (props) {\n              return [\n                _c(\"span\", {\n                  staticClass: \"option__icon\",\n                  class: props.option.icon,\n                }),\n                _vm._v(\" \"),\n                _c(\"span\", { staticClass: \"option__title\" }, [\n                  _vm._v(\n                    _vm._s(props.option.label) +\n                      \" \" +\n                      _vm._s(props.option.$groupLabel)\n                  ),\n                ]),\n              ]\n            },\n          },\n        ]),\n      }),\n      _vm._v(\" \"),\n      !_vm.isPredefined\n        ? _c(\"input\", {\n            attrs: { type: \"text\", placeholder: _vm.placeholder },\n            domProps: { value: _vm.currentValue.pattern },\n            on: { input: _vm.updateCustom },\n          })\n        : _vm._e(),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!--\r\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\r\n  -\r\n  - @author Julius Härtl <jus@bitgrid.net>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n  -\r\n  -->\r\n\r\n<template>\r\n\t<div>\r\n\t\t<NcMultiselect :value=\"currentValue\"\r\n\t\t\t:placeholder=\"t('workflowengine', 'Select a request URL')\"\r\n\t\t\tlabel=\"label\"\r\n\t\t\ttrack-by=\"pattern\"\r\n\t\t\tgroup-values=\"children\"\r\n\t\t\tgroup-label=\"label\"\r\n\t\t\t:options=\"options\"\r\n\t\t\t:multiple=\"false\"\r\n\t\t\t:tagging=\"false\"\r\n\t\t\t@input=\"setValue\">\r\n\t\t\t<template slot=\"singleLabel\" slot-scope=\"props\">\r\n\t\t\t\t<span class=\"option__icon\" :class=\"props.option.icon\" />\r\n\t\t\t\t<span class=\"option__title option__title_single\">{{ props.option.label }}</span>\r\n\t\t\t</template>\r\n\t\t\t<template slot=\"option\" slot-scope=\"props\">\r\n\t\t\t\t<span class=\"option__icon\" :class=\"props.option.icon\" />\r\n\t\t\t\t<span class=\"option__title\">{{ props.option.label }} {{ props.option.$groupLabel }}</span>\r\n\t\t\t</template>\r\n\t\t</NcMultiselect>\r\n\t\t<input v-if=\"!isPredefined\"\r\n\t\t\ttype=\"text\"\r\n\t\t\t:value=\"currentValue.pattern\"\r\n\t\t\t:placeholder=\"placeholder\"\r\n\t\t\t@input=\"updateCustom\">\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport NcMultiselect from '@nextcloud/vue/dist/Components/NcMultiselect'\r\nimport valueMixin from '../../mixins/valueMixin'\r\n\r\nexport default {\r\n\tname: 'RequestURL',\r\n\tcomponents: {\r\n\t\tNcMultiselect,\r\n\t},\r\n\tmixins: [\r\n\t\tvalueMixin,\r\n\t],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tnewValue: '',\r\n\t\t\tpredefinedTypes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: t('workflowengine', 'Predefined URLs'),\r\n\t\t\t\t\tchildren: [\r\n\t\t\t\t\t\t{ pattern: 'webdav', label: t('workflowengine', 'Files WebDAV') },\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\toptions() {\r\n\t\t\treturn [...this.predefinedTypes, this.customValue]\r\n\t\t},\r\n\t\tplaceholder() {\r\n\t\t\tif (this.check.operator === 'matches' || this.check.operator === '!matches') {\r\n\t\t\t\treturn '/^https\\\\:\\\\/\\\\/localhost\\\\/index\\\\.php$/i'\r\n\t\t\t}\r\n\t\t\treturn 'https://localhost/index.php'\r\n\t\t},\r\n\t\tmatchingPredefined() {\r\n\t\t\treturn this.predefinedTypes\r\n\t\t\t\t.map(groups => groups.children)\r\n\t\t\t\t.flat()\r\n\t\t\t\t.find((type) => this.newValue === type.pattern)\r\n\t\t},\r\n\t\tisPredefined() {\r\n\t\t\treturn !!this.matchingPredefined\r\n\t\t},\r\n\t\tcustomValue() {\r\n\t\t\treturn {\r\n\t\t\t\tlabel: t('workflowengine', 'Others'),\r\n\t\t\t\tchildren: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticon: 'icon-settings-dark',\r\n\t\t\t\t\t\tlabel: t('workflowengine', 'Custom URL'),\r\n\t\t\t\t\t\tpattern: '',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t},\r\n\t\tcurrentValue() {\r\n\t\t\tif (this.matchingPredefined) {\r\n\t\t\t\treturn this.matchingPredefined\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ticon: 'icon-settings-dark',\r\n\t\t\t\tlabel: t('workflowengine', 'Custom URL'),\r\n\t\t\t\tpattern: this.newValue,\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tvalidateRegex(string) {\r\n\t\t\tconst regexRegex = /^\\/(.*)\\/([gui]{0,3})$/\r\n\t\t\tconst result = regexRegex.exec(string)\r\n\t\t\treturn result !== null\r\n\t\t},\r\n\t\tsetValue(value) {\r\n\t\t\t// TODO: check if value requires a regex and set the check operator according to that\r\n\t\t\tif (value !== null) {\r\n\t\t\t\tthis.newValue = value.pattern\r\n\t\t\t\tthis.$emit('input', this.newValue)\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateCustom(event) {\r\n\t\t\tthis.newValue = event.target.value\r\n\t\t\tthis.$emit('input', this.newValue)\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n\t.multiselect, input[type='text'] {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.option__icon {\r\n\t\tdisplay: inline-block;\r\n\t\tmin-width: 30px;\r\n\t\tbackground-position: left;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestURL.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestURL.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestURL.vue?vue&type=style&index=0&id=4e5081d6&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestURL.vue?vue&type=style&index=0&id=4e5081d6&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./RequestURL.vue?vue&type=template&id=4e5081d6&scoped=true&\"\nimport script from \"./RequestURL.vue?vue&type=script&lang=js&\"\nexport * from \"./RequestURL.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RequestURL.vue?vue&type=style&index=0&id=4e5081d6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e5081d6\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\WORKS\\\\BHSoft\\\\Projects\\\\nextcloud-server\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4e5081d6')) {\n      api.createRecord('4e5081d6', component.options)\n    } else {\n      api.reload('4e5081d6', component.options)\n    }\n    module.hot.accept(\"./RequestURL.vue?vue&type=template&id=4e5081d6&scoped=true&\", function () {\n      api.rerender('4e5081d6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/workflowengine/src/components/Checks/RequestURL.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\"NcMultiselect\", {\n        attrs: {\n          value: _vm.currentValue,\n          loading: _vm.status.isLoading && _vm.groups.length === 0,\n          options: _vm.groups,\n          multiple: false,\n          label: \"displayname\",\n          \"track-by\": \"id\",\n        },\n        on: {\n          \"search-change\": _vm.searchAsync,\n          input: function (value) {\n            return _vm.$emit(\"input\", value.id)\n          },\n        },\n      }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!--\r\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\r\n  -\r\n  - @author Julius Härtl <jus@bitgrid.net>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n  -\r\n  -->\r\n\r\n<template>\r\n\t<div>\r\n\t\t<NcMultiselect :value=\"currentValue\"\r\n\t\t\t:loading=\"status.isLoading && groups.length === 0\"\r\n\t\t\t:options=\"groups\"\r\n\t\t\t:multiple=\"false\"\r\n\t\t\tlabel=\"displayname\"\r\n\t\t\ttrack-by=\"id\"\r\n\t\t\t@search-change=\"searchAsync\"\r\n\t\t\t@input=\"(value) => $emit('input', value.id)\" />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport NcMultiselect from '@nextcloud/vue/dist/Components/NcMultiselect'\r\nimport axios from '@nextcloud/axios'\r\nimport { generateOcsUrl } from '@nextcloud/router'\r\n\r\nconst groups = []\r\nconst status = {\r\n\tisLoading: false,\r\n}\r\n\r\nexport default {\r\n\tname: 'RequestUserGroup',\r\n\tcomponents: {\r\n\t\tNcMultiselect,\r\n\t},\r\n\tprops: {\r\n\t\tvalue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t\tcheck: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => { return {} },\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tgroups,\r\n\t\t\tstatus,\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tcurrentValue() {\r\n\t\t\treturn this.groups.find(group => group.id === this.value) || null\r\n\t\t},\r\n\t},\r\n\tasync mounted() {\r\n\t\tif (this.groups.length === 0) {\r\n\t\t\tawait this.searchAsync('')\r\n\t\t}\r\n\t\tif (this.currentValue === null) {\r\n\t\t\tawait this.searchAsync(this.value)\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tsearchAsync(searchQuery) {\r\n\t\t\tif (this.status.isLoading) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tthis.status.isLoading = true\r\n\t\t\treturn axios.get(generateOcsUrl('cloud/groups/details?limit=20&search={searchQuery}', { searchQuery })).then((response) => {\r\n\t\t\t\tresponse.data.ocs.data.groups.forEach((group) => {\r\n\t\t\t\t\tthis.addGroup({\r\n\t\t\t\t\t\tid: group.id,\r\n\t\t\t\t\t\tdisplayname: group.displayname,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tthis.status.isLoading = false\r\n\t\t\t}, (error) => {\r\n\t\t\t\tconsole.error('Error while loading group list', error.response)\r\n\t\t\t})\r\n\t\t},\r\n\t\taddGroup(group) {\r\n\t\t\tconst index = this.groups.findIndex((item) => item.id === group.id)\r\n\t\t\tif (index === -1) {\r\n\t\t\t\tthis.groups.push(group)\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n<style scoped>\r\n\t.multiselect {\r\n\t\twidth: 100%;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestUserGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestUserGroup.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestUserGroup.vue?vue&type=style&index=0&id=d9c0dbcc&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestUserGroup.vue?vue&type=style&index=0&id=d9c0dbcc&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./RequestUserGroup.vue?vue&type=template&id=d9c0dbcc&scoped=true&\"\nimport script from \"./RequestUserGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./RequestUserGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RequestUserGroup.vue?vue&type=style&index=0&id=d9c0dbcc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d9c0dbcc\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\WORKS\\\\BHSoft\\\\Projects\\\\nextcloud-server\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('d9c0dbcc')) {\n      api.createRecord('d9c0dbcc', component.options)\n    } else {\n      api.reload('d9c0dbcc', component.options)\n    }\n    module.hot.accept(\"./RequestUserGroup.vue?vue&type=template&id=d9c0dbcc&scoped=true&\", function () {\n      api.rerender('d9c0dbcc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/workflowengine/src/components/Checks/RequestUserGroup.vue\"\nexport default component.exports","/**\r\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @author Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport RequestUserAgent from './RequestUserAgent'\r\nimport RequestTime from './RequestTime'\r\nimport RequestURL from './RequestURL'\r\nimport RequestUserGroup from './RequestUserGroup'\r\n\r\nconst RequestChecks = [\r\n\t{\r\n\t\tclass: 'OCA\\\\WorkflowEngine\\\\Check\\\\RequestURL',\r\n\t\tname: t('workflowengine', 'Request URL'),\r\n\t\toperators: [\r\n\t\t\t{ operator: 'is', name: t('workflowengine', 'is') },\r\n\t\t\t{ operator: '!is', name: t('workflowengine', 'is not') },\r\n\t\t\t{ operator: 'matches', name: t('workflowengine', 'matches') },\r\n\t\t\t{ operator: '!matches', name: t('workflowengine', 'does not match') },\r\n\t\t],\r\n\t\tcomponent: RequestURL,\r\n\t},\r\n\t{\r\n\t\tclass: 'OCA\\\\WorkflowEngine\\\\Check\\\\RequestTime',\r\n\t\tname: t('workflowengine', 'Request time'),\r\n\t\toperators: [\r\n\t\t\t{ operator: 'in', name: t('workflowengine', 'between') },\r\n\t\t\t{ operator: '!in', name: t('workflowengine', 'not between') },\r\n\t\t],\r\n\t\tcomponent: RequestTime,\r\n\t},\r\n\t{\r\n\t\tclass: 'OCA\\\\WorkflowEngine\\\\Check\\\\RequestUserAgent',\r\n\t\tname: t('workflowengine', 'Request user agent'),\r\n\t\toperators: [\r\n\t\t\t{ operator: 'is', name: t('workflowengine', 'is') },\r\n\t\t\t{ operator: '!is', name: t('workflowengine', 'is not') },\r\n\t\t\t{ operator: 'matches', name: t('workflowengine', 'matches') },\r\n\t\t\t{ operator: '!matches', name: t('workflowengine', 'does not match') },\r\n\t\t],\r\n\t\tcomponent: RequestUserAgent,\r\n\t},\r\n\t{\r\n\t\tclass: 'OCA\\\\WorkflowEngine\\\\Check\\\\UserGroupMembership',\r\n\t\tname: t('workflowengine', 'User group membership'),\r\n\t\toperators: [\r\n\t\t\t{ operator: 'is', name: t('workflowengine', 'is member of') },\r\n\t\t\t{ operator: '!is', name: t('workflowengine', 'is not member of') },\r\n\t\t],\r\n\t\tcomponent: RequestUserGroup,\r\n\t},\r\n]\r\n\r\nexport default RequestChecks\r\n","/**\r\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @author Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport FileChecks from './file'\r\nimport RequestChecks from './request'\r\n\r\nexport default [...FileChecks, ...RequestChecks]\r\n","/**\r\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n * @author Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport store from './store'\r\nimport Settings from './components/Workflow'\r\nimport ShippedChecks from './components/Checks'\r\n\r\n/**\r\n * A plugin for displaying a custom value field for checks\r\n *\r\n * @typedef {object} CheckPlugin\r\n * @property {string} class - The PHP class name of the check\r\n * @property {Comparison[]} operators - A list of possible comparison operations running on the check\r\n * @property {Vue} component - A vue component to handle the rendering of options\r\n *  The component should handle the v-model directive properly,\r\n *  so it needs a value property to receive data and emit an input\r\n *  event once the data has changed\r\n * @property {Function} placeholder - Return a placeholder of no custom component is used\r\n * @property {Function} validate - validate a check if no custom component is used\r\n */\r\n\r\n/**\r\n * A plugin for extending the admin page representation of an operator\r\n *\r\n * @typedef {object} OperatorPlugin\r\n * @property {string} id - The PHP class name of the check\r\n * @property {string} operation - Default value for the operation field\r\n * @property {string} color - Custom color code to be applied for the operator selector\r\n * @property {Vue} component - A vue component to handle the rendering of options\r\n *  The component should handle the v-model directive properly,\r\n *  so it needs a value property to receive data and emit an input\r\n *  event once the data has changed\r\n */\r\n\r\n/**\r\n * @typedef {object} Comparison\r\n * @property {string} operator - value the comparison should have, e.g. !less, greater\r\n * @property {string} name - Translated readable text, e.g. less or equals\r\n */\r\n\r\n/**\r\n * Public javascript api for apps to register custom plugins\r\n */\r\nwindow.OCA.WorkflowEngine = Object.assign({}, OCA.WorkflowEngine, {\r\n\r\n\t/**\r\n\t *\r\n\t * @param {CheckPlugin} Plugin the plugin to register\r\n\t */\r\n\tregisterCheck(Plugin) {\r\n\t\tstore.commit('addPluginCheck', Plugin)\r\n\t},\r\n\t/**\r\n\t *\r\n\t * @param {OperatorPlugin} Plugin the plugin to register\r\n\t */\r\n\tregisterOperator(Plugin) {\r\n\t\tstore.commit('addPluginOperator', Plugin)\r\n\t},\r\n})\r\n\r\n// Register shipped checks\r\nShippedChecks.forEach((checkPlugin) => window.OCA.WorkflowEngine.registerCheck(checkPlugin))\r\n\r\nVue.use(Vuex)\r\nVue.prototype.t = t\r\n\r\nconst View = Vue.extend(Settings)\r\nconst workflowengine = new View({\r\n\tstore,\r\n})\r\nworkflowengine.$mount('#workflowengine')\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".check[data-v-11d766f9]{display:flex;flex-wrap:wrap;width:100%;padding-right:20px}.check>*[data-v-11d766f9]:not(.close){width:180px}.check>.comparator[data-v-11d766f9]{min-width:130px;width:130px}.check>.option[data-v-11d766f9]{min-width:230px;width:230px}.check>.multiselect[data-v-11d766f9],.check>input[type=text][data-v-11d766f9]{margin-right:5px;margin-bottom:5px}.check .multiselect[data-v-11d766f9] .multiselect__content-wrapper li>span,.check .multiselect[data-v-11d766f9] .multiselect__single{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}input[type=text][data-v-11d766f9]{margin:0}[data-v-11d766f9]::placeholder{font-size:10px}button.action-item.action-item--single.icon-close[data-v-11d766f9]{height:44px;width:44px;margin-top:-5px;margin-bottom:-5px}.invalid[data-v-11d766f9]{border-color:var(--color-error) !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/workflowengine/src/components/Check.vue\"],\"names\":[],\"mappings\":\"AAsJA,wBACC,YAAA,CACA,cAAA,CACA,UAAA,CACA,kBAAA,CACA,sCACC,WAAA,CAED,oCACC,eAAA,CACA,WAAA,CAED,gCACC,eAAA,CACA,WAAA,CAED,8EAEC,gBAAA,CACA,iBAAA,CAGD,qIAEC,aAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CAGF,kCACC,QAAA,CAED,+BACC,cAAA,CAED,mEACC,WAAA,CACA,UAAA,CACA,eAAA,CACA,kBAAA,CAED,0BACC,0CAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.check {\\n\\tdisplay: flex;\\n\\tflex-wrap: wrap;\\n\\twidth: 100%;\\n\\tpadding-right: 20px;\\n\\t& > *:not(.close) {\\n\\t\\twidth: 180px;\\n\\t}\\n\\t& > .comparator {\\n\\t\\tmin-width: 130px;\\n\\t\\twidth: 130px;\\n\\t}\\n\\t& > .option {\\n\\t\\tmin-width: 230px;\\n\\t\\twidth: 230px;\\n\\t}\\n\\t& > .multiselect,\\n\\t& > input[type=text] {\\n\\t\\tmargin-right: 5px;\\n\\t\\tmargin-bottom: 5px;\\n\\t}\\n\\n\\t.multiselect::v-deep .multiselect__content-wrapper li>span,\\n\\t.multiselect::v-deep .multiselect__single {\\n\\t\\tdisplay: block;\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n}\\ninput[type=text] {\\n\\tmargin: 0;\\n}\\n::placeholder {\\n\\tfont-size: 10px;\\n}\\nbutton.action-item.action-item--single.icon-close {\\n\\theight: 44px;\\n\\twidth: 44px;\\n\\tmargin-top: -5px;\\n\\tmargin-bottom: -5px;\\n}\\n.invalid {\\n\\tborder-color: var(--color-error) !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".multiselect[data-v-1d6fa99f],input[type=text][data-v-1d6fa99f]{width:100%}.multiselect[data-v-1d6fa99f] .multiselect__content-wrapper li>span,.multiselect[data-v-1d6fa99f] .multiselect__single{display:flex;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.option__icon[data-v-1d6fa99f]{display:inline-block;min-width:30px;background-position:left}.option__icon-img[data-v-1d6fa99f]{margin-right:14px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/workflowengine/src/components/Checks/FileMimeType.vue\"],\"names\":[],\"mappings\":\"AAkJA,gEACC,UAAA,CAED,uHAEC,YAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CAGD,+BACC,oBAAA,CACA,cAAA,CACA,wBAAA,CAGD,mCACC,iBAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.multiselect, input[type='text'] {\\n\\twidth: 100%;\\n}\\n.multiselect >>> .multiselect__content-wrapper li>span,\\n.multiselect >>> .multiselect__single {\\n\\tdisplay: flex;\\n\\twhite-space: nowrap;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n}\\n\\n.option__icon {\\n\\tdisplay: inline-block;\\n\\tmin-width: 30px;\\n\\tbackground-position: left;\\n}\\n\\n.option__icon-img {\\n\\tmargin-right: 14px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".timeslot[data-v-53b6e3d2]{display:flex;flex-grow:1;flex-wrap:wrap;max-width:180px}.timeslot .multiselect[data-v-53b6e3d2]{width:100%;margin-bottom:5px}.timeslot .multiselect[data-v-53b6e3d2] .multiselect__tags:not(:hover):not(:focus):not(:active){border:1px solid rgba(0,0,0,0)}.timeslot input[type=text][data-v-53b6e3d2]{width:50%;margin:0;margin-bottom:5px}.timeslot input[type=text].timeslot--start[data-v-53b6e3d2]{margin-right:5px;width:calc(50% - 5px)}.timeslot .invalid-hint[data-v-53b6e3d2]{color:var(--color-text-maxcontrast)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/workflowengine/src/components/Checks/RequestTime.vue\"],\"names\":[],\"mappings\":\"AA+FA,2BACC,YAAA,CACA,WAAA,CACA,cAAA,CACA,eAAA,CAEA,wCACC,UAAA,CACA,iBAAA,CAGD,gGACC,8BAAA,CAGD,4CACC,SAAA,CACA,QAAA,CACA,iBAAA,CAEA,4DACC,gBAAA,CACA,qBAAA,CAIF,yCACC,mCAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.timeslot {\\n\\tdisplay: flex;\\n\\tflex-grow: 1;\\n\\tflex-wrap: wrap;\\n\\tmax-width: 180px;\\n\\n\\t.multiselect {\\n\\t\\twidth: 100%;\\n\\t\\tmargin-bottom: 5px;\\n\\t}\\n\\n\\t.multiselect::v-deep .multiselect__tags:not(:hover):not(:focus):not(:active) {\\n\\t\\tborder: 1px solid transparent;\\n\\t}\\n\\n\\tinput[type=text] {\\n\\t\\twidth: 50%;\\n\\t\\tmargin: 0;\\n\\t\\tmargin-bottom: 5px;\\n\\n\\t\\t&.timeslot--start {\\n\\t\\t\\tmargin-right: 5px;\\n\\t\\t\\twidth: calc(50% - 5px);\\n\\t\\t}\\n\\t}\\n\\n\\t.invalid-hint {\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".multiselect[data-v-4e5081d6],input[type=text][data-v-4e5081d6]{width:100%}.option__icon[data-v-4e5081d6]{display:inline-block;min-width:30px;background-position:left}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/workflowengine/src/components/Checks/RequestURL.vue\"],\"names\":[],\"mappings\":\"AA2IA,gEACC,UAAA,CAGD,+BACC,oBAAA,CACA,cAAA,CACA,wBAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.multiselect, input[type='text'] {\\n\\twidth: 100%;\\n}\\n\\n.option__icon {\\n\\tdisplay: inline-block;\\n\\tmin-width: 30px;\\n\\tbackground-position: left;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".event[data-v-081648ea]{margin-bottom:5px}.isComplex img[data-v-081648ea]{vertical-align:text-top}.isComplex span[data-v-081648ea]{padding-top:2px;display:inline-block}.multiselect[data-v-081648ea]{width:100%;max-width:550px;margin-top:4px}.multiselect[data-v-081648ea] .multiselect__single{display:flex}.multiselect[data-v-081648ea]:not(.multiselect--active) .multiselect__tags{background-color:var(--color-main-background) !important;border:1px solid rgba(0,0,0,0)}.multiselect[data-v-081648ea] .multiselect__tags{background-color:var(--color-main-background) !important;height:auto;min-height:34px}.multiselect[data-v-081648ea]:not(.multiselect--disabled) .multiselect__tags .multiselect__single{background-image:var(--icon-triangle-s-dark);background-repeat:no-repeat;background-position:right center}input[data-v-081648ea]{border:1px solid rgba(0,0,0,0)}.option__title[data-v-081648ea]{margin-left:5px;color:var(--color-main-text)}.option__title_single[data-v-081648ea]{font-weight:900}.option__icon[data-v-081648ea]{width:16px;height:16px;filter:var(--background-invert-if-dark)}.eventlist img[data-v-081648ea],.eventlist .text[data-v-081648ea]{vertical-align:middle}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/workflowengine/src/components/Event.vue\"],\"names\":[],\"mappings\":\"AAiFA,wBACC,iBAAA,CAGA,gCACC,uBAAA,CAED,iCACC,eAAA,CACA,oBAAA,CAGF,8BACC,UAAA,CACA,eAAA,CACA,cAAA,CAED,mDACC,YAAA,CAED,2EACC,wDAAA,CACA,8BAAA,CAGD,iDACC,wDAAA,CACA,WAAA,CACA,eAAA,CAGD,kGACC,4CAAA,CACA,2BAAA,CACA,gCAAA,CAGD,uBACC,8BAAA,CAGD,gCACC,eAAA,CACA,4BAAA,CAED,uCACC,eAAA,CAGD,+BACC,UAAA,CACA,WAAA,CACA,uCAAA,CAGD,kEAEC,qBAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.event {\\n\\tmargin-bottom: 5px;\\n}\\n.isComplex {\\n\\timg {\\n\\t\\tvertical-align: text-top;\\n\\t}\\n\\tspan {\\n\\t\\tpadding-top: 2px;\\n\\t\\tdisplay: inline-block;\\n\\t}\\n}\\n.multiselect {\\n\\twidth: 100%;\\n\\tmax-width: 550px;\\n\\tmargin-top: 4px;\\n}\\n.multiselect::v-deep .multiselect__single {\\n\\tdisplay: flex;\\n}\\n.multiselect:not(.multiselect--active)::v-deep .multiselect__tags {\\n\\tbackground-color: var(--color-main-background) !important;\\n\\tborder: 1px solid transparent;\\n}\\n\\n.multiselect::v-deep .multiselect__tags {\\n\\tbackground-color: var(--color-main-background) !important;\\n\\theight: auto;\\n\\tmin-height: 34px;\\n}\\n\\n.multiselect:not(.multiselect--disabled)::v-deep .multiselect__tags .multiselect__single {\\n\\tbackground-image: var(--icon-triangle-s-dark);\\n\\tbackground-repeat: no-repeat;\\n\\tbackground-position: right center;\\n}\\n\\ninput {\\n\\tborder: 1px solid transparent;\\n}\\n\\n.option__title {\\n\\tmargin-left: 5px;\\n\\tcolor: var(--color-main-text);\\n}\\n.option__title_single {\\n\\tfont-weight: 900;\\n}\\n\\n.option__icon {\\n\\twidth: 16px;\\n\\theight: 16px;\\n\\tfilter: var(--background-invert-if-dark);\\n}\\n\\n.eventlist img,\\n.eventlist .text {\\n\\tvertical-align: middle;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".actions__item[data-v-ce148950]{display:flex;flex-wrap:wrap;flex-direction:column;flex-grow:1;margin-left:-1px;padding:10px;border-radius:var(--border-radius-large);margin-right:20px;margin-bottom:20px}.actions__item .icon[data-v-ce148950]{display:block;width:100%;height:50px;background-size:50px 50px;background-position:center center;margin-top:10px;margin-bottom:10px;background-repeat:no-repeat}.actions__item__description[data-v-ce148950]{text-align:center;flex-grow:1;display:flex;flex-direction:column;align-items:center}.actions__item_options[data-v-ce148950]{width:100%;margin-top:10px;padding-left:60px}h3[data-v-ce148950],small[data-v-ce148950]{padding:6px;display:block}h3[data-v-ce148950]{margin:0;padding:0;font-weight:600}small[data-v-ce148950]{font-size:10pt;flex-grow:1}.colored[data-v-ce148950]:not(.more){background-color:var(--color-primary-element)}.colored:not(.more) h3[data-v-ce148950],.colored:not(.more) small[data-v-ce148950]{color:var(--color-primary-text)}.actions__item[data-v-ce148950]:not(.colored){flex-direction:row}.actions__item:not(.colored) .actions__item__description[data-v-ce148950]{padding-top:5px;text-align:left;width:calc(100% - 105px)}.actions__item:not(.colored) .actions__item__description small[data-v-ce148950]{padding:0}.actions__item:not(.colored) .icon[data-v-ce148950]{width:50px;margin:0;margin-right:10px}.actions__item:not(.colored) .icon[data-v-ce148950]:not(.icon-invert){filter:var(--background-invert-if-bright)}.colored .icon-invert[data-v-ce148950]{filter:var(--background-invert-if-bright)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/workflowengine/src/styles/operation.scss\"],\"names\":[],\"mappings\":\"AAAA,gCACC,YAAA,CACA,cAAA,CACA,qBAAA,CACA,WAAA,CACA,gBAAA,CACA,YAAA,CACA,wCAAA,CACA,iBAAA,CACA,kBAAA,CAED,sCACC,aAAA,CACA,UAAA,CACA,WAAA,CACA,yBAAA,CACA,iCAAA,CACA,eAAA,CACA,kBAAA,CACA,2BAAA,CAED,6CACC,iBAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CAED,wCACC,UAAA,CACA,eAAA,CACA,iBAAA,CAED,2CACC,WAAA,CACA,aAAA,CAED,oBACC,QAAA,CACA,SAAA,CACA,eAAA,CAED,uBACC,cAAA,CACA,WAAA,CAGD,qCACC,6CAAA,CACA,mFACC,+BAAA,CAIF,8CACC,kBAAA,CAEA,0EACC,eAAA,CACA,eAAA,CACA,wBAAA,CACA,gFACC,SAAA,CAGF,oDACC,UAAA,CACA,QAAA,CACA,iBAAA,CACA,sEACC,yCAAA,CAKH,uCACC,yCAAA\",\"sourcesContent\":[\".actions__item {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-wrap: wrap;\\r\\n\\tflex-direction: column;\\r\\n\\tflex-grow: 1;\\r\\n\\tmargin-left: -1px;\\r\\n\\tpadding: 10px;\\r\\n\\tborder-radius: var(--border-radius-large);\\r\\n\\tmargin-right: 20px;\\r\\n\\tmargin-bottom: 20px;\\r\\n}\\r\\n.actions__item .icon {\\r\\n\\tdisplay: block;\\r\\n\\twidth: 100%;\\r\\n\\theight: 50px;\\r\\n\\tbackground-size: 50px 50px;\\r\\n\\tbackground-position: center center;\\r\\n\\tmargin-top: 10px;\\r\\n\\tmargin-bottom: 10px;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n}\\r\\n.actions__item__description {\\r\\n\\ttext-align: center;\\r\\n\\tflex-grow: 1;\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\talign-items: center;\\r\\n}\\r\\n.actions__item_options {\\r\\n\\twidth: 100%;\\r\\n\\tmargin-top: 10px;\\r\\n\\tpadding-left: 60px;\\r\\n}\\r\\nh3, small {\\r\\n\\tpadding: 6px;\\r\\n\\tdisplay: block;\\r\\n}\\r\\nh3 {\\r\\n\\tmargin: 0;\\r\\n\\tpadding: 0;\\r\\n\\tfont-weight: 600;\\r\\n}\\r\\nsmall {\\r\\n\\tfont-size: 10pt;\\r\\n\\tflex-grow: 1;\\r\\n}\\r\\n\\r\\n.colored:not(.more) {\\r\\n\\tbackground-color: var(--color-primary-element);\\r\\n\\th3, small {\\r\\n\\t\\tcolor: var(--color-primary-text)\\r\\n\\t}\\r\\n}\\r\\n\\r\\n.actions__item:not(.colored) {\\r\\n\\tflex-direction: row;\\r\\n\\r\\n\\t.actions__item__description {\\r\\n\\t\\tpadding-top: 5px;\\r\\n\\t\\ttext-align: left;\\r\\n\\t\\twidth: calc(100% - 105px);\\r\\n\\t\\tsmall {\\r\\n\\t\\t\\tpadding: 0;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\t.icon {\\r\\n\\t\\twidth: 50px;\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\tmargin-right: 10px;\\r\\n\\t\\t&:not(.icon-invert) {\\r\\n\\t\\t\\tfilter: var(--background-invert-if-bright);\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\\r\\n\\r\\n.colored .icon-invert {\\r\\n\\tfilter: var(--background-invert-if-bright);\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".buttons[data-v-3a24edca]{display:flex;justify-content:end}.buttons button[data-v-3a24edca]{margin-left:5px}.buttons button[data-v-3a24edca]:last-child{margin-right:10px}.error-message[data-v-3a24edca]{float:right;margin-right:10px}.flow-icon[data-v-3a24edca]{width:44px}.rule[data-v-3a24edca]{display:flex;flex-wrap:wrap;border-left:5px solid var(--color-primary-element)}.rule .trigger[data-v-3a24edca],.rule .action[data-v-3a24edca]{flex-grow:1;min-height:100px;max-width:700px}.rule .action[data-v-3a24edca]{max-width:400px;position:relative}.rule .icon-confirm[data-v-3a24edca]{background-position:right 27px;padding-right:20px;margin-right:20px}.trigger p[data-v-3a24edca],.action p[data-v-3a24edca]{min-height:34px;display:flex}.trigger p>span[data-v-3a24edca],.action p>span[data-v-3a24edca]{min-width:50px;text-align:right;color:var(--color-text-maxcontrast);padding-right:10px;padding-top:6px}.trigger p .multiselect[data-v-3a24edca],.action p .multiselect[data-v-3a24edca]{flex-grow:1;max-width:300px}.trigger p:first-child span[data-v-3a24edca]{padding-top:3px}.check--add[data-v-3a24edca]{background-position:7px center;background-color:rgba(0,0,0,0);padding-left:6px;margin:0;width:180px;border-radius:var(--border-radius);color:var(--color-text-maxcontrast);font-weight:normal;text-align:left;font-size:1em}@media(max-width: 1400px){.rule[data-v-3a24edca],.rule .trigger[data-v-3a24edca],.rule .action[data-v-3a24edca]{width:100%;max-width:100%}.rule .flow-icon[data-v-3a24edca]{display:none}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/workflowengine/src/components/Rule.vue\"],\"names\":[],\"mappings\":\"AA6LA,0BACC,YAAA,CACA,mBAAA,CAEA,iCACC,eAAA,CAED,4CACC,iBAAA,CAIF,gCACC,WAAA,CACA,iBAAA,CAGD,4BACC,UAAA,CAGD,uBACC,YAAA,CACA,cAAA,CACA,kDAAA,CAEA,+DACC,WAAA,CACA,gBAAA,CACA,eAAA,CAED,+BACC,eAAA,CACA,iBAAA,CAED,qCACC,8BAAA,CACA,kBAAA,CACA,iBAAA,CAGF,uDACC,eAAA,CACA,YAAA,CAEA,iEACC,cAAA,CACA,gBAAA,CACA,mCAAA,CACA,kBAAA,CACA,eAAA,CAED,iFACC,WAAA,CACA,eAAA,CAGF,6CACE,eAAA,CAGF,6BACC,8BAAA,CACA,8BAAA,CACA,gBAAA,CACA,QAAA,CACA,WAAA,CACA,kCAAA,CACA,mCAAA,CACA,kBAAA,CACA,eAAA,CACA,aAAA,CAGD,0BAEE,sFACC,UAAA,CACA,cAAA,CAED,kCACC,YAAA,CAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.buttons {\\n\\tdisplay: flex;\\n\\tjustify-content: end;\\n\\n\\tbutton {\\n\\t\\tmargin-left: 5px;\\n\\t}\\n\\tbutton:last-child{\\n\\t\\tmargin-right: 10px;\\n\\t}\\n}\\n\\n.error-message {\\n\\tfloat: right;\\n\\tmargin-right: 10px;\\n}\\n\\n.flow-icon {\\n\\twidth: 44px;\\n}\\n\\n.rule {\\n\\tdisplay: flex;\\n\\tflex-wrap: wrap;\\n\\tborder-left: 5px solid var(--color-primary-element);\\n\\n\\t.trigger, .action {\\n\\t\\tflex-grow: 1;\\n\\t\\tmin-height: 100px;\\n\\t\\tmax-width: 700px;\\n\\t}\\n\\t.action {\\n\\t\\tmax-width: 400px;\\n\\t\\tposition: relative;\\n\\t}\\n\\t.icon-confirm {\\n\\t\\tbackground-position: right 27px;\\n\\t\\tpadding-right: 20px;\\n\\t\\tmargin-right: 20px;\\n\\t}\\n}\\n.trigger p, .action p {\\n\\tmin-height: 34px;\\n\\tdisplay: flex;\\n\\n\\t& > span {\\n\\t\\tmin-width: 50px;\\n\\t\\ttext-align: right;\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\tpadding-right: 10px;\\n\\t\\tpadding-top: 6px;\\n\\t}\\n\\t.multiselect {\\n\\t\\tflex-grow: 1;\\n\\t\\tmax-width: 300px;\\n\\t}\\n}\\n.trigger p:first-child span {\\n\\t\\tpadding-top: 3px;\\n}\\n\\n.check--add {\\n\\tbackground-position: 7px center;\\n\\tbackground-color: transparent;\\n\\tpadding-left: 6px;\\n\\tmargin: 0;\\n\\twidth: 180px;\\n\\tborder-radius: var(--border-radius);\\n\\tcolor: var(--color-text-maxcontrast);\\n\\tfont-weight: normal;\\n\\ttext-align: left;\\n\\tfont-size: 1em;\\n}\\n\\n@media (max-width:1400px) {\\n\\t.rule {\\n\\t\\t&, .trigger, .action {\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\tmax-width: 100%;\\n\\t\\t}\\n\\t\\t.flow-icon {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#workflowengine[data-v-a7f0d644]{border-bottom:1px solid var(--color-border)}.section[data-v-a7f0d644]{max-width:100vw}.section h2.configured-flows[data-v-a7f0d644]{margin-top:50px;margin-bottom:0}.actions[data-v-a7f0d644]{display:flex;flex-wrap:wrap;max-width:1200px}.actions .actions__item[data-v-a7f0d644]{max-width:280px;flex-basis:250px}.actions__more[data-v-a7f0d644]{margin-bottom:10px}.slide-enter-active[data-v-a7f0d644]{-moz-transition-duration:.3s;-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s;-moz-transition-timing-function:ease-in;-webkit-transition-timing-function:ease-in;-o-transition-timing-function:ease-in;transition-timing-function:ease-in}.slide-leave-active[data-v-a7f0d644]{-moz-transition-duration:.3s;-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s;-moz-transition-timing-function:cubic-bezier(0, 1, 0.5, 1);-webkit-transition-timing-function:cubic-bezier(0, 1, 0.5, 1);-o-transition-timing-function:cubic-bezier(0, 1, 0.5, 1);transition-timing-function:cubic-bezier(0, 1, 0.5, 1)}.slide-enter-to[data-v-a7f0d644],.slide-leave[data-v-a7f0d644]{max-height:500px;overflow:hidden}.slide-enter[data-v-a7f0d644],.slide-leave-to[data-v-a7f0d644]{overflow:hidden;max-height:0;padding-top:0;padding-bottom:0}.actions__item[data-v-a7f0d644]{display:flex;flex-wrap:wrap;flex-direction:column;flex-grow:1;margin-left:-1px;padding:10px;border-radius:var(--border-radius-large);margin-right:20px;margin-bottom:20px}.actions__item .icon[data-v-a7f0d644]{display:block;width:100%;height:50px;background-size:50px 50px;background-position:center center;margin-top:10px;margin-bottom:10px;background-repeat:no-repeat}.actions__item__description[data-v-a7f0d644]{text-align:center;flex-grow:1;display:flex;flex-direction:column;align-items:center}.actions__item_options[data-v-a7f0d644]{width:100%;margin-top:10px;padding-left:60px}h3[data-v-a7f0d644],small[data-v-a7f0d644]{padding:6px;display:block}h3[data-v-a7f0d644]{margin:0;padding:0;font-weight:600}small[data-v-a7f0d644]{font-size:10pt;flex-grow:1}.colored[data-v-a7f0d644]:not(.more){background-color:var(--color-primary-element)}.colored:not(.more) h3[data-v-a7f0d644],.colored:not(.more) small[data-v-a7f0d644]{color:var(--color-primary-text)}.actions__item[data-v-a7f0d644]:not(.colored){flex-direction:row}.actions__item:not(.colored) .actions__item__description[data-v-a7f0d644]{padding-top:5px;text-align:left;width:calc(100% - 105px)}.actions__item:not(.colored) .actions__item__description small[data-v-a7f0d644]{padding:0}.actions__item:not(.colored) .icon[data-v-a7f0d644]{width:50px;margin:0;margin-right:10px}.actions__item:not(.colored) .icon[data-v-a7f0d644]:not(.icon-invert){filter:var(--background-invert-if-bright)}.colored .icon-invert[data-v-a7f0d644]{filter:var(--background-invert-if-bright)}.actions__item.more[data-v-a7f0d644]{background-color:var(--color-background-dark)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/workflowengine/src/components/Workflow.vue\",\"webpack://./apps/workflowengine/src/styles/operation.scss\"],\"names\":[],\"mappings\":\"AAkHA,iCACC,2CAAA,CAED,0BACC,eAAA,CAEA,8CACC,eAAA,CACA,eAAA,CAGF,0BACC,YAAA,CACA,cAAA,CACA,gBAAA,CACA,yCACC,eAAA,CACA,gBAAA,CAGF,gCACC,kBAAA,CAGD,qCACC,4BAAA,CACA,+BAAA,CACA,0BAAA,CACA,uBAAA,CACA,uCAAA,CACA,0CAAA,CACA,qCAAA,CACA,kCAAA,CAGD,qCACC,4BAAA,CACA,+BAAA,CACA,0BAAA,CACA,uBAAA,CACA,0DAAA,CACA,6DAAA,CACA,wDAAA,CACA,qDAAA,CAGD,+DACC,gBAAA,CACA,eAAA,CAGD,+DACC,eAAA,CACA,YAAA,CACA,aAAA,CACA,gBAAA,CCzKD,gCACC,YAAA,CACA,cAAA,CACA,qBAAA,CACA,WAAA,CACA,gBAAA,CACA,YAAA,CACA,wCAAA,CACA,iBAAA,CACA,kBAAA,CAED,sCACC,aAAA,CACA,UAAA,CACA,WAAA,CACA,yBAAA,CACA,iCAAA,CACA,eAAA,CACA,kBAAA,CACA,2BAAA,CAED,6CACC,iBAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CAED,wCACC,UAAA,CACA,eAAA,CACA,iBAAA,CAED,2CACC,WAAA,CACA,aAAA,CAED,oBACC,QAAA,CACA,SAAA,CACA,eAAA,CAED,uBACC,cAAA,CACA,WAAA,CAGD,qCACC,6CAAA,CACA,mFACC,+BAAA,CAIF,8CACC,kBAAA,CAEA,0EACC,eAAA,CACA,eAAA,CACA,wBAAA,CACA,gFACC,SAAA,CAGF,oDACC,UAAA,CACA,QAAA,CACA,iBAAA,CACA,sEACC,yCAAA,CAKH,uCACC,yCAAA,CDkGD,qCACC,6CAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n#workflowengine {\\n\\tborder-bottom: 1px solid var(--color-border);\\n}\\n.section {\\n\\tmax-width: 100vw;\\n\\n\\th2.configured-flows {\\n\\t\\tmargin-top: 50px;\\n\\t\\tmargin-bottom: 0;\\n\\t}\\n}\\n.actions {\\n\\tdisplay: flex;\\n\\tflex-wrap: wrap;\\n\\tmax-width: 1200px;\\n\\t.actions__item {\\n\\t\\tmax-width: 280px;\\n\\t\\tflex-basis: 250px;\\n\\t}\\n}\\n.actions__more {\\n\\tmargin-bottom: 10px;\\n}\\n\\n.slide-enter-active {\\n\\t-moz-transition-duration: 0.3s;\\n\\t-webkit-transition-duration: 0.3s;\\n\\t-o-transition-duration: 0.3s;\\n\\ttransition-duration: 0.3s;\\n\\t-moz-transition-timing-function: ease-in;\\n\\t-webkit-transition-timing-function: ease-in;\\n\\t-o-transition-timing-function: ease-in;\\n\\ttransition-timing-function: ease-in;\\n}\\n\\n.slide-leave-active {\\n\\t-moz-transition-duration: 0.3s;\\n\\t-webkit-transition-duration: 0.3s;\\n\\t-o-transition-duration: 0.3s;\\n\\ttransition-duration: 0.3s;\\n\\t-moz-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\\n\\t-webkit-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\\n\\t-o-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\\n\\ttransition-timing-function: cubic-bezier(0, 1, 0.5, 1);\\n}\\n\\n.slide-enter-to, .slide-leave {\\n\\tmax-height: 500px;\\n\\toverflow: hidden;\\n}\\n\\n.slide-enter, .slide-leave-to {\\n\\toverflow: hidden;\\n\\tmax-height: 0;\\n\\tpadding-top: 0;\\n\\tpadding-bottom: 0;\\n}\\n\\n@import \\\"./../styles/operation\\\";\\n\\n.actions__item.more {\\n\\tbackground-color: var(--color-background-dark);\\n}\\n\",\".actions__item {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-wrap: wrap;\\r\\n\\tflex-direction: column;\\r\\n\\tflex-grow: 1;\\r\\n\\tmargin-left: -1px;\\r\\n\\tpadding: 10px;\\r\\n\\tborder-radius: var(--border-radius-large);\\r\\n\\tmargin-right: 20px;\\r\\n\\tmargin-bottom: 20px;\\r\\n}\\r\\n.actions__item .icon {\\r\\n\\tdisplay: block;\\r\\n\\twidth: 100%;\\r\\n\\theight: 50px;\\r\\n\\tbackground-size: 50px 50px;\\r\\n\\tbackground-position: center center;\\r\\n\\tmargin-top: 10px;\\r\\n\\tmargin-bottom: 10px;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n}\\r\\n.actions__item__description {\\r\\n\\ttext-align: center;\\r\\n\\tflex-grow: 1;\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\talign-items: center;\\r\\n}\\r\\n.actions__item_options {\\r\\n\\twidth: 100%;\\r\\n\\tmargin-top: 10px;\\r\\n\\tpadding-left: 60px;\\r\\n}\\r\\nh3, small {\\r\\n\\tpadding: 6px;\\r\\n\\tdisplay: block;\\r\\n}\\r\\nh3 {\\r\\n\\tmargin: 0;\\r\\n\\tpadding: 0;\\r\\n\\tfont-weight: 600;\\r\\n}\\r\\nsmall {\\r\\n\\tfont-size: 10pt;\\r\\n\\tflex-grow: 1;\\r\\n}\\r\\n\\r\\n.colored:not(.more) {\\r\\n\\tbackground-color: var(--color-primary-element);\\r\\n\\th3, small {\\r\\n\\t\\tcolor: var(--color-primary-text)\\r\\n\\t}\\r\\n}\\r\\n\\r\\n.actions__item:not(.colored) {\\r\\n\\tflex-direction: row;\\r\\n\\r\\n\\t.actions__item__description {\\r\\n\\t\\tpadding-top: 5px;\\r\\n\\t\\ttext-align: left;\\r\\n\\t\\twidth: calc(100% - 105px);\\r\\n\\t\\tsmall {\\r\\n\\t\\t\\tpadding: 0;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\t.icon {\\r\\n\\t\\twidth: 50px;\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\tmargin-right: 10px;\\r\\n\\t\\t&:not(.icon-invert) {\\r\\n\\t\\t\\tfilter: var(--background-invert-if-bright);\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\\r\\n\\r\\n.colored .icon-invert {\\r\\n\\tfilter: var(--background-invert-if-bright);\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.multiselect[data-v-f3bfa8c0], input[type='text'][data-v-f3bfa8c0] {\\n\\twidth: 100%;\\n}\\n.multiselect .multiselect__content-wrapper li>span[data-v-f3bfa8c0] {\\n\\tdisplay: flex;\\n\\twhite-space: nowrap;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n}\\n.multiselect[data-v-f3bfa8c0] .multiselect__single {\\n\\twidth: 100%;\\n\\tdisplay: flex;\\n\\twhite-space: nowrap;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n}\\n.option__icon[data-v-f3bfa8c0] {\\n\\tdisplay: inline-block;\\n\\tmin-width: 30px;\\n\\tbackground-position: left;\\n}\\n.option__title[data-v-f3bfa8c0] {\\n\\twhite-space: nowrap;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/workflowengine/src/components/Checks/RequestUserAgent.vue\"],\"names\":[],\"mappings\":\";AA8HA;CACA,WAAA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;CACA,gBAAA;CACA,uBAAA;AACA;AACA;CACA,WAAA;CACA,aAAA;CACA,mBAAA;CACA,gBAAA;CACA,uBAAA;AACA;AACA;CACA,qBAAA;CACA,eAAA;CACA,yBAAA;AACA;AACA;CACA,mBAAA;CACA,gBAAA;CACA,uBAAA;AACA\",\"sourcesContent\":[\"<!--\\r\\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\\r\\n  -\\r\\n  - @author Julius Härtl <jus@bitgrid.net>\\r\\n  -\\r\\n  - @license GNU AGPL version 3 or any later version\\r\\n  -\\r\\n  - This program is free software: you can redistribute it and/or modify\\r\\n  - it under the terms of the GNU Affero General Public License as\\r\\n  - published by the Free Software Foundation, either version 3 of the\\r\\n  - License, or (at your option) any later version.\\r\\n  -\\r\\n  - This program is distributed in the hope that it will be useful,\\r\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\r\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\r\\n  - GNU Affero General Public License for more details.\\r\\n  -\\r\\n  - You should have received a copy of the GNU Affero General Public License\\r\\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\\r\\n  -\\r\\n  -->\\r\\n\\r\\n<template>\\r\\n\\t<div>\\r\\n\\t\\t<NcMultiselect :value=\\\"currentValue\\\"\\r\\n\\t\\t\\t:placeholder=\\\"t('workflowengine', 'Select a user agent')\\\"\\r\\n\\t\\t\\tlabel=\\\"label\\\"\\r\\n\\t\\t\\ttrack-by=\\\"pattern\\\"\\r\\n\\t\\t\\t:options=\\\"options\\\"\\r\\n\\t\\t\\t:multiple=\\\"false\\\"\\r\\n\\t\\t\\t:tagging=\\\"false\\\"\\r\\n\\t\\t\\t@input=\\\"setValue\\\">\\r\\n\\t\\t\\t<template slot=\\\"singleLabel\\\" slot-scope=\\\"props\\\">\\r\\n\\t\\t\\t\\t<span class=\\\"option__icon\\\" :class=\\\"props.option.icon\\\" />\\r\\n\\t\\t\\t\\t<!-- v-html can be used here as t() always passes our translated strings though DOMPurify.sanitize -->\\r\\n\\t\\t\\t\\t<!-- eslint-disable-next-line vue/no-v-html -->\\r\\n\\t\\t\\t\\t<span class=\\\"option__title option__title_single\\\" v-html=\\\"props.option.label\\\" />\\r\\n\\t\\t\\t</template>\\r\\n\\t\\t\\t<template slot=\\\"option\\\" slot-scope=\\\"props\\\">\\r\\n\\t\\t\\t\\t<span class=\\\"option__icon\\\" :class=\\\"props.option.icon\\\" />\\r\\n\\t\\t\\t\\t<!-- eslint-disable-next-line vue/no-v-html -->\\r\\n\\t\\t\\t\\t<span v-if=\\\"props.option.$groupLabel\\\" class=\\\"option__title\\\" v-html=\\\"props.option.$groupLabel\\\" />\\r\\n\\t\\t\\t\\t<!-- eslint-disable-next-line vue/no-v-html -->\\r\\n\\t\\t\\t\\t<span v-else class=\\\"option__title\\\" v-html=\\\"props.option.label\\\" />\\r\\n\\t\\t\\t</template>\\r\\n\\t\\t</NcMultiselect>\\r\\n\\t\\t<input v-if=\\\"!isPredefined\\\"\\r\\n\\t\\t\\ttype=\\\"text\\\"\\r\\n\\t\\t\\t:value=\\\"currentValue.pattern\\\"\\r\\n\\t\\t\\t@input=\\\"updateCustom\\\">\\r\\n\\t</div>\\r\\n</template>\\r\\n\\r\\n<script>\\r\\nimport NcMultiselect from '@nextcloud/vue/dist/Components/NcMultiselect'\\r\\nimport valueMixin from '../../mixins/valueMixin'\\r\\n\\r\\nexport default {\\r\\n\\tname: 'RequestUserAgent',\\r\\n\\tcomponents: {\\r\\n\\t\\tNcMultiselect,\\r\\n\\t},\\r\\n\\tmixins: [\\r\\n\\t\\tvalueMixin,\\r\\n\\t],\\r\\n\\tdata() {\\r\\n\\t\\treturn {\\r\\n\\t\\t\\tnewValue: '',\\r\\n\\t\\t\\tpredefinedTypes: [\\r\\n\\t\\t\\t\\t{ pattern: 'android', label: t('workflowengine', 'Android client'), icon: 'icon-phone' },\\r\\n\\t\\t\\t\\t{ pattern: 'ios', label: t('workflowengine', 'iOS client'), icon: 'icon-phone' },\\r\\n\\t\\t\\t\\t{ pattern: 'desktop', label: t('workflowengine', 'Desktop client'), icon: 'icon-desktop' },\\r\\n\\t\\t\\t\\t{ pattern: 'mail', label: t('workflowengine', 'Thunderbird & Outlook addons'), icon: 'icon-mail' },\\r\\n\\t\\t\\t],\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\tcomputed: {\\r\\n\\t\\toptions() {\\r\\n\\t\\t\\treturn [...this.predefinedTypes, this.customValue]\\r\\n\\t\\t},\\r\\n\\t\\tmatchingPredefined() {\\r\\n\\t\\t\\treturn this.predefinedTypes\\r\\n\\t\\t\\t\\t.find((type) => this.newValue === type.pattern)\\r\\n\\t\\t},\\r\\n\\t\\tisPredefined() {\\r\\n\\t\\t\\treturn !!this.matchingPredefined\\r\\n\\t\\t},\\r\\n\\t\\tcustomValue() {\\r\\n\\t\\t\\treturn {\\r\\n\\t\\t\\t\\ticon: 'icon-settings-dark',\\r\\n\\t\\t\\t\\tlabel: t('workflowengine', 'Custom user agent'),\\r\\n\\t\\t\\t\\tpattern: '',\\r\\n\\t\\t\\t}\\r\\n\\t\\t},\\r\\n\\t\\tcurrentValue() {\\r\\n\\t\\t\\tif (this.matchingPredefined) {\\r\\n\\t\\t\\t\\treturn this.matchingPredefined\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\treturn {\\r\\n\\t\\t\\t\\ticon: 'icon-settings-dark',\\r\\n\\t\\t\\t\\tlabel: t('workflowengine', 'Custom user agent'),\\r\\n\\t\\t\\t\\tpattern: this.newValue,\\r\\n\\t\\t\\t}\\r\\n\\t\\t},\\r\\n\\t},\\r\\n\\tmethods: {\\r\\n\\t\\tvalidateRegex(string) {\\r\\n\\t\\t\\tconst regexRegex = /^\\\\/(.*)\\\\/([gui]{0,3})$/\\r\\n\\t\\t\\tconst result = regexRegex.exec(string)\\r\\n\\t\\t\\treturn result !== null\\r\\n\\t\\t},\\r\\n\\t\\tsetValue(value) {\\r\\n\\t\\t\\t// TODO: check if value requires a regex and set the check operator according to that\\r\\n\\t\\t\\tif (value !== null) {\\r\\n\\t\\t\\t\\tthis.newValue = value.pattern\\r\\n\\t\\t\\t\\tthis.$emit('input', this.newValue)\\r\\n\\t\\t\\t}\\r\\n\\t\\t},\\r\\n\\t\\tupdateCustom(event) {\\r\\n\\t\\t\\tthis.newValue = event.target.value\\r\\n\\t\\t\\tthis.$emit('input', this.newValue)\\r\\n\\t\\t},\\r\\n\\t},\\r\\n}\\r\\n</script>\\r\\n<style scoped>\\r\\n\\t.multiselect, input[type='text'] {\\r\\n\\t\\twidth: 100%;\\r\\n\\t}\\r\\n\\r\\n\\t.multiselect .multiselect__content-wrapper li>span {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\twhite-space: nowrap;\\r\\n\\t\\toverflow: hidden;\\r\\n\\t\\ttext-overflow: ellipsis;\\r\\n\\t}\\r\\n\\t.multiselect::v-deep .multiselect__single {\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\twhite-space: nowrap;\\r\\n\\t\\toverflow: hidden;\\r\\n\\t\\ttext-overflow: ellipsis;\\r\\n\\t}\\r\\n\\t.option__icon {\\r\\n\\t\\tdisplay: inline-block;\\r\\n\\t\\tmin-width: 30px;\\r\\n\\t\\tbackground-position: left;\\r\\n\\t}\\r\\n\\t.option__title {\\r\\n\\t\\twhite-space: nowrap;\\r\\n\\t\\toverflow: hidden;\\r\\n\\t\\ttext-overflow: ellipsis;\\r\\n\\t}\\r\\n</style>\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.multiselect[data-v-d9c0dbcc] {\\n\\twidth: 100%;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/workflowengine/src/components/Checks/RequestUserGroup.vue\"],\"names\":[],\"mappings\":\";AA4GA;CACA,WAAA;AACA\",\"sourcesContent\":[\"<!--\\r\\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\\r\\n  -\\r\\n  - @author Julius Härtl <jus@bitgrid.net>\\r\\n  -\\r\\n  - @license GNU AGPL version 3 or any later version\\r\\n  -\\r\\n  - This program is free software: you can redistribute it and/or modify\\r\\n  - it under the terms of the GNU Affero General Public License as\\r\\n  - published by the Free Software Foundation, either version 3 of the\\r\\n  - License, or (at your option) any later version.\\r\\n  -\\r\\n  - This program is distributed in the hope that it will be useful,\\r\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\r\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\r\\n  - GNU Affero General Public License for more details.\\r\\n  -\\r\\n  - You should have received a copy of the GNU Affero General Public License\\r\\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\\r\\n  -\\r\\n  -->\\r\\n\\r\\n<template>\\r\\n\\t<div>\\r\\n\\t\\t<NcMultiselect :value=\\\"currentValue\\\"\\r\\n\\t\\t\\t:loading=\\\"status.isLoading && groups.length === 0\\\"\\r\\n\\t\\t\\t:options=\\\"groups\\\"\\r\\n\\t\\t\\t:multiple=\\\"false\\\"\\r\\n\\t\\t\\tlabel=\\\"displayname\\\"\\r\\n\\t\\t\\ttrack-by=\\\"id\\\"\\r\\n\\t\\t\\t@search-change=\\\"searchAsync\\\"\\r\\n\\t\\t\\t@input=\\\"(value) => $emit('input', value.id)\\\" />\\r\\n\\t</div>\\r\\n</template>\\r\\n\\r\\n<script>\\r\\nimport NcMultiselect from '@nextcloud/vue/dist/Components/NcMultiselect'\\r\\nimport axios from '@nextcloud/axios'\\r\\nimport { generateOcsUrl } from '@nextcloud/router'\\r\\n\\r\\nconst groups = []\\r\\nconst status = {\\r\\n\\tisLoading: false,\\r\\n}\\r\\n\\r\\nexport default {\\r\\n\\tname: 'RequestUserGroup',\\r\\n\\tcomponents: {\\r\\n\\t\\tNcMultiselect,\\r\\n\\t},\\r\\n\\tprops: {\\r\\n\\t\\tvalue: {\\r\\n\\t\\t\\ttype: String,\\r\\n\\t\\t\\tdefault: '',\\r\\n\\t\\t},\\r\\n\\t\\tcheck: {\\r\\n\\t\\t\\ttype: Object,\\r\\n\\t\\t\\tdefault: () => { return {} },\\r\\n\\t\\t},\\r\\n\\t},\\r\\n\\tdata() {\\r\\n\\t\\treturn {\\r\\n\\t\\t\\tgroups,\\r\\n\\t\\t\\tstatus,\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\tcomputed: {\\r\\n\\t\\tcurrentValue() {\\r\\n\\t\\t\\treturn this.groups.find(group => group.id === this.value) || null\\r\\n\\t\\t},\\r\\n\\t},\\r\\n\\tasync mounted() {\\r\\n\\t\\tif (this.groups.length === 0) {\\r\\n\\t\\t\\tawait this.searchAsync('')\\r\\n\\t\\t}\\r\\n\\t\\tif (this.currentValue === null) {\\r\\n\\t\\t\\tawait this.searchAsync(this.value)\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\tmethods: {\\r\\n\\t\\tsearchAsync(searchQuery) {\\r\\n\\t\\t\\tif (this.status.isLoading) {\\r\\n\\t\\t\\t\\treturn\\r\\n\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\tthis.status.isLoading = true\\r\\n\\t\\t\\treturn axios.get(generateOcsUrl('cloud/groups/details?limit=20&search={searchQuery}', { searchQuery })).then((response) => {\\r\\n\\t\\t\\t\\tresponse.data.ocs.data.groups.forEach((group) => {\\r\\n\\t\\t\\t\\t\\tthis.addGroup({\\r\\n\\t\\t\\t\\t\\t\\tid: group.id,\\r\\n\\t\\t\\t\\t\\t\\tdisplayname: group.displayname,\\r\\n\\t\\t\\t\\t\\t})\\r\\n\\t\\t\\t\\t})\\r\\n\\t\\t\\t\\tthis.status.isLoading = false\\r\\n\\t\\t\\t}, (error) => {\\r\\n\\t\\t\\t\\tconsole.error('Error while loading group list', error.response)\\r\\n\\t\\t\\t})\\r\\n\\t\\t},\\r\\n\\t\\taddGroup(group) {\\r\\n\\t\\t\\tconst index = this.groups.findIndex((item) => item.id === group.id)\\r\\n\\t\\t\\tif (index === -1) {\\r\\n\\t\\t\\t\\tthis.groups.push(group)\\r\\n\\t\\t\\t}\\r\\n\\t\\t},\\r\\n\\t},\\r\\n}\\r\\n</script>\\r\\n<style scoped>\\r\\n\\t.multiselect {\\r\\n\\t\\twidth: 100%;\\r\\n\\t}\\r\\n</style>\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var map = {\n\t\"./af\": 42786,\n\t\"./af.js\": 42786,\n\t\"./ar\": 30867,\n\t\"./ar-dz\": 14130,\n\t\"./ar-dz.js\": 14130,\n\t\"./ar-kw\": 96135,\n\t\"./ar-kw.js\": 96135,\n\t\"./ar-ly\": 56440,\n\t\"./ar-ly.js\": 56440,\n\t\"./ar-ma\": 47702,\n\t\"./ar-ma.js\": 47702,\n\t\"./ar-sa\": 16040,\n\t\"./ar-sa.js\": 16040,\n\t\"./ar-tn\": 37100,\n\t\"./ar-tn.js\": 37100,\n\t\"./ar.js\": 30867,\n\t\"./az\": 31083,\n\t\"./az.js\": 31083,\n\t\"./be\": 9808,\n\t\"./be.js\": 9808,\n\t\"./bg\": 68338,\n\t\"./bg.js\": 68338,\n\t\"./bm\": 67438,\n\t\"./bm.js\": 67438,\n\t\"./bn\": 8905,\n\t\"./bn-bd\": 76225,\n\t\"./bn-bd.js\": 76225,\n\t\"./bn.js\": 8905,\n\t\"./bo\": 11560,\n\t\"./bo.js\": 11560,\n\t\"./br\": 1278,\n\t\"./br.js\": 1278,\n\t\"./bs\": 80622,\n\t\"./bs.js\": 80622,\n\t\"./ca\": 2468,\n\t\"./ca.js\": 2468,\n\t\"./cs\": 5822,\n\t\"./cs.js\": 5822,\n\t\"./cv\": 50877,\n\t\"./cv.js\": 50877,\n\t\"./cy\": 47373,\n\t\"./cy.js\": 47373,\n\t\"./da\": 24780,\n\t\"./da.js\": 24780,\n\t\"./de\": 59740,\n\t\"./de-at\": 60217,\n\t\"./de-at.js\": 60217,\n\t\"./de-ch\": 60894,\n\t\"./de-ch.js\": 60894,\n\t\"./de.js\": 59740,\n\t\"./dv\": 5300,\n\t\"./dv.js\": 5300,\n\t\"./el\": 50837,\n\t\"./el.js\": 50837,\n\t\"./en-au\": 78348,\n\t\"./en-au.js\": 78348,\n\t\"./en-ca\": 77925,\n\t\"./en-ca.js\": 77925,\n\t\"./en-gb\": 22243,\n\t\"./en-gb.js\": 22243,\n\t\"./en-ie\": 46436,\n\t\"./en-ie.js\": 46436,\n\t\"./en-il\": 47207,\n\t\"./en-il.js\": 47207,\n\t\"./en-in\": 44175,\n\t\"./en-in.js\": 44175,\n\t\"./en-nz\": 76319,\n\t\"./en-nz.js\": 76319,\n\t\"./en-sg\": 31662,\n\t\"./en-sg.js\": 31662,\n\t\"./eo\": 92915,\n\t\"./eo.js\": 92915,\n\t\"./es\": 55655,\n\t\"./es-do\": 55251,\n\t\"./es-do.js\": 55251,\n\t\"./es-mx\": 96112,\n\t\"./es-mx.js\": 96112,\n\t\"./es-us\": 71146,\n\t\"./es-us.js\": 71146,\n\t\"./es.js\": 55655,\n\t\"./et\": 5603,\n\t\"./et.js\": 5603,\n\t\"./eu\": 77763,\n\t\"./eu.js\": 77763,\n\t\"./fa\": 76959,\n\t\"./fa.js\": 76959,\n\t\"./fi\": 11897,\n\t\"./fi.js\": 11897,\n\t\"./fil\": 42549,\n\t\"./fil.js\": 42549,\n\t\"./fo\": 94694,\n\t\"./fo.js\": 94694,\n\t\"./fr\": 94470,\n\t\"./fr-ca\": 63049,\n\t\"./fr-ca.js\": 63049,\n\t\"./fr-ch\": 52330,\n\t\"./fr-ch.js\": 52330,\n\t\"./fr.js\": 94470,\n\t\"./fy\": 5044,\n\t\"./fy.js\": 5044,\n\t\"./ga\": 29295,\n\t\"./ga.js\": 29295,\n\t\"./gd\": 2101,\n\t\"./gd.js\": 2101,\n\t\"./gl\": 38794,\n\t\"./gl.js\": 38794,\n\t\"./gom-deva\": 27884,\n\t\"./gom-deva.js\": 27884,\n\t\"./gom-latn\": 23168,\n\t\"./gom-latn.js\": 23168,\n\t\"./gu\": 95349,\n\t\"./gu.js\": 95349,\n\t\"./he\": 24206,\n\t\"./he.js\": 24206,\n\t\"./hi\": 30094,\n\t\"./hi.js\": 30094,\n\t\"./hr\": 30316,\n\t\"./hr.js\": 30316,\n\t\"./hu\": 22138,\n\t\"./hu.js\": 22138,\n\t\"./hy-am\": 11423,\n\t\"./hy-am.js\": 11423,\n\t\"./id\": 29218,\n\t\"./id.js\": 29218,\n\t\"./is\": 90135,\n\t\"./is.js\": 90135,\n\t\"./it\": 90626,\n\t\"./it-ch\": 10150,\n\t\"./it-ch.js\": 10150,\n\t\"./it.js\": 90626,\n\t\"./ja\": 39183,\n\t\"./ja.js\": 39183,\n\t\"./jv\": 24286,\n\t\"./jv.js\": 24286,\n\t\"./ka\": 12105,\n\t\"./ka.js\": 12105,\n\t\"./kk\": 47772,\n\t\"./kk.js\": 47772,\n\t\"./km\": 18758,\n\t\"./km.js\": 18758,\n\t\"./kn\": 79282,\n\t\"./kn.js\": 79282,\n\t\"./ko\": 33730,\n\t\"./ko.js\": 33730,\n\t\"./ku\": 1408,\n\t\"./ku.js\": 1408,\n\t\"./ky\": 33291,\n\t\"./ky.js\": 33291,\n\t\"./lb\": 36841,\n\t\"./lb.js\": 36841,\n\t\"./lo\": 55466,\n\t\"./lo.js\": 55466,\n\t\"./lt\": 57010,\n\t\"./lt.js\": 57010,\n\t\"./lv\": 37595,\n\t\"./lv.js\": 37595,\n\t\"./me\": 39861,\n\t\"./me.js\": 39861,\n\t\"./mi\": 35493,\n\t\"./mi.js\": 35493,\n\t\"./mk\": 95966,\n\t\"./mk.js\": 95966,\n\t\"./ml\": 87341,\n\t\"./ml.js\": 87341,\n\t\"./mn\": 5115,\n\t\"./mn.js\": 5115,\n\t\"./mr\": 10370,\n\t\"./mr.js\": 10370,\n\t\"./ms\": 9847,\n\t\"./ms-my\": 41237,\n\t\"./ms-my.js\": 41237,\n\t\"./ms.js\": 9847,\n\t\"./mt\": 72126,\n\t\"./mt.js\": 72126,\n\t\"./my\": 56165,\n\t\"./my.js\": 56165,\n\t\"./nb\": 64924,\n\t\"./nb.js\": 64924,\n\t\"./ne\": 16744,\n\t\"./ne.js\": 16744,\n\t\"./nl\": 93901,\n\t\"./nl-be\": 59814,\n\t\"./nl-be.js\": 59814,\n\t\"./nl.js\": 93901,\n\t\"./nn\": 83877,\n\t\"./nn.js\": 83877,\n\t\"./oc-lnc\": 92135,\n\t\"./oc-lnc.js\": 92135,\n\t\"./pa-in\": 15858,\n\t\"./pa-in.js\": 15858,\n\t\"./pl\": 64495,\n\t\"./pl.js\": 64495,\n\t\"./pt\": 89520,\n\t\"./pt-br\": 57971,\n\t\"./pt-br.js\": 57971,\n\t\"./pt.js\": 89520,\n\t\"./ro\": 96459,\n\t\"./ro.js\": 96459,\n\t\"./ru\": 21793,\n\t\"./ru.js\": 21793,\n\t\"./sd\": 40950,\n\t\"./sd.js\": 40950,\n\t\"./se\": 10490,\n\t\"./se.js\": 10490,\n\t\"./si\": 90124,\n\t\"./si.js\": 90124,\n\t\"./sk\": 64249,\n\t\"./sk.js\": 64249,\n\t\"./sl\": 14985,\n\t\"./sl.js\": 14985,\n\t\"./sq\": 51104,\n\t\"./sq.js\": 51104,\n\t\"./sr\": 49131,\n\t\"./sr-cyrl\": 79915,\n\t\"./sr-cyrl.js\": 79915,\n\t\"./sr.js\": 49131,\n\t\"./ss\": 85893,\n\t\"./ss.js\": 85893,\n\t\"./sv\": 98760,\n\t\"./sv.js\": 98760,\n\t\"./sw\": 91172,\n\t\"./sw.js\": 91172,\n\t\"./ta\": 27333,\n\t\"./ta.js\": 27333,\n\t\"./te\": 23110,\n\t\"./te.js\": 23110,\n\t\"./tet\": 52095,\n\t\"./tet.js\": 52095,\n\t\"./tg\": 27321,\n\t\"./tg.js\": 27321,\n\t\"./th\": 9041,\n\t\"./th.js\": 9041,\n\t\"./tk\": 19005,\n\t\"./tk.js\": 19005,\n\t\"./tl-ph\": 75768,\n\t\"./tl-ph.js\": 75768,\n\t\"./tlh\": 89444,\n\t\"./tlh.js\": 89444,\n\t\"./tr\": 72397,\n\t\"./tr.js\": 72397,\n\t\"./tzl\": 28254,\n\t\"./tzl.js\": 28254,\n\t\"./tzm\": 51106,\n\t\"./tzm-latn\": 30699,\n\t\"./tzm-latn.js\": 30699,\n\t\"./tzm.js\": 51106,\n\t\"./ug-cn\": 9288,\n\t\"./ug-cn.js\": 9288,\n\t\"./uk\": 67691,\n\t\"./uk.js\": 67691,\n\t\"./ur\": 13795,\n\t\"./ur.js\": 13795,\n\t\"./uz\": 6791,\n\t\"./uz-latn\": 60588,\n\t\"./uz-latn.js\": 60588,\n\t\"./uz.js\": 6791,\n\t\"./vi\": 65666,\n\t\"./vi.js\": 65666,\n\t\"./x-pseudo\": 14378,\n\t\"./x-pseudo.js\": 14378,\n\t\"./yo\": 75805,\n\t\"./yo.js\": 75805,\n\t\"./zh-cn\": 83839,\n\t\"./zh-cn.js\": 83839,\n\t\"./zh-hk\": 55726,\n\t\"./zh-hk.js\": 55726,\n\t\"./zh-mo\": 99807,\n\t\"./zh-mo.js\": 99807,\n\t\"./zh-tw\": 74152,\n\t\"./zh-tw.js\": 74152\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 8318;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t8318: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknextcloud\"] = self[\"webpackChunknextcloud\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [7874], function() { return __webpack_require__(59837); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","scopeValue","loadState","getApiUrl","url","generateOcsUrl","Vue","Vuex","Store","state","rules","scope","appstoreEnabled","operations","plugins","checks","operators","entities","events","map","entity","event","id","eventName","flat","mutations","addRule","rule","push","valid","updateRule","index","findIndex","item","newRule","Object","assign","removeRule","splice","addPluginCheck","plugin","class","addPluginOperator","color","actions","fetchRules","context","axios","data","values","ocs","forEach","commit","createNewRule","isComplex","fixedEntity","find","Date","getTime","name","operator","value","operation","JSON","parse","pushUpdateRule","confirmPassword","result","deleteRule","setValid","getters","getRules","filter","sort","rule1","rule2","getOperationForRule","getEntityForOperation","getEventsForOperation","getChecksForEntity","check","supportedEntities","indexOf","length","reduce","obj","render","_vm","this","_h","$createElement","_c","_self","attrs","title","t","workflowDocUrl","staticClass","href","_v","_s","_e","tag","_l","getMainOperations","key","nativeOn","click","$event","showAppStoreHint","appstoreUrl","hasMoreOperations","on","showMoreOperations","scopedSlots","_u","fn","size","proxy","_withStripped","style","borderLeftColor","update","validate","remove","removeCheck","lastCheckComplete","type","onAddFilter","colored","options","input","updateOperation","model","callback","$$v","$set","expression","dirty","cancelRule","ruleStatus","saveRule","icon","error","src","alt","triggerHint","currentEvent","allEvents","multiple","disabled","updateEvent","ref","isOpen","displayName","props","option","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","component","__file","directives","rawName","hideDelete","showDelete","label","placeholder","updateCheck","currentOption","currentOperator","currentComponent","invalid","valuePlaceholder","domProps","target","composing","deleteVisible","$emit","backgroundColor","iconClass","backgroundImage","description","_t","regexRegex","regexIPv4","regexIPv6","currentValue","tagging","setValue","iconUrl","isPredefined","pattern","updateCustom","String","default","newValue","watch","immediate","handler","updateInternalValue","methods","stringOrRegexOperators","string","exec","FileMimeType","match","validateIPv4","FileSystemTag","innerHTML","$groupLabel","startTime","endTime","timezones","timezone","loading","status","isLoading","groups","searchAsync","RequestURL","RequestTime","RequestUserAgent","RequestUserGroup","FileChecks","RequestChecks","window","OCA","WorkflowEngine","registerCheck","Plugin","store","registerOperator","ShippedChecks","checkPlugin","Settings","$mount","___CSS_LOADER_EXPORT___","module","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","resolve","exports","__webpack_module_cache__","moduleId","cachedModule","undefined","loaded","__webpack_modules__","call","m","amdD","amdO","O","chunkIds","priority","notFulfilled","Infinity","i","fulfilled","j","every","r","n","getter","__esModule","d","a","definition","defineProperty","enumerable","get","g","globalThis","Function","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","b","document","baseURI","self","location","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","bind","nc","__webpack_exports__"],"sourceRoot":""}