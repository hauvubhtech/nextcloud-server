/*! For license information please see settings-vue-settings-personal-webauthn.js.LICENSE.txt */
!function(){"use strict";var e,n={57077:function(e,n,r){var i=r(20144),a=r(16453),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section",attrs:{id:"security-webauthn"}},[n("h2",[t._v(t._s(t.t("settings","Passwordless Authentication")))]),t._v(" "),n("p",{staticClass:"settings-hint hidden-when-empty"},[t._v("\n\t\t"+t._s(t.t("settings","Set up your account for passwordless authentication following the FIDO2 standard."))+"\n\t")]),t._v(" "),0===t.devices.length?n("p",[t._v("\n\t\t"+t._s(t.t("settings","No devices configured."))+"\n\t")]):n("p",[t._v("\n\t\t"+t._s(t.t("settings","The following devices are configured for your account:"))+"\n\t")]),t._v(" "),t._l(t.sortedDevices,(function(e){return n("Device",{key:e.id,attrs:{name:e.name},on:{delete:function(n){return t.deleteDevice(e.id)}}})})),t._v(" "),t.hasPublicKeyCredential?t._e():n("p",{staticClass:"warning"},[t._v("\n\t\t"+t._s(t.t("settings","Your browser does not support WebAuthn."))+"\n\t")]),t._v(" "),t.hasPublicKeyCredential?n("AddDevice",{attrs:{"is-https":t.isHttps,"is-localhost":t.isLocalhost},on:{added:t.deviceAdded}}):t._e()],2)};o._withStripped=!0;var s=r(10128),c=(r(65509),r(66415)),u=r.n(c),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isHttps||t.isLocalhost?n("div",[t.step===t.RegistrationSteps.READY?n("div",[n("button",{on:{click:t.start}},[t._v("\n\t\t\t"+t._s(t.t("settings","Add WebAuthn device"))+"\n\t\t")])]):t.step===t.RegistrationSteps.REGISTRATION?n("div",{staticClass:"new-webauthn-device"},[n("span",{staticClass:"icon-loading-small webauthn-loading"}),t._v("\n\t\t"+t._s(t.t("settings","Please authorize your WebAuthn device."))+"\n\t")]):t.step===t.RegistrationSteps.NAMING?n("div",{staticClass:"new-webauthn-device"},[n("span",{staticClass:"icon-loading-small webauthn-loading"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:t.t("settings","Name your device")},domProps:{value:t.name},on:{":keyup":function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit.apply(null,arguments)},input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.submit}},[t._v("\n\t\t\t"+t._s(t.t("settings","Add"))+"\n\t\t")])]):t.step===t.RegistrationSteps.PERSIST?n("div",{staticClass:"new-webauthn-device"},[n("span",{staticClass:"icon-loading-small webauthn-loading"}),t._v("\n\t\t"+t._s(t.t("settings","Adding your device â€¦"))+"\n\t")]):n("div",[t._v("\n\t\tInvalid registration step. This should not have happened.\n\t")])]):n("div",[t._v("\n\t"+t._s(t.t("settings","Passwordless authentication requires a secure connection."))+"\n")])};d._withStripped=!0;var l=(0,r(17499).IY)().setApp("settings").detectUser().build(),p=r(4820),h=r(79753);function g(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){g(a,r,i,o,s,"next",t)}function s(t){g(a,r,i,o,s,"throw",t)}o(void 0)}))}}function f(){return(f=v(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,h.generateUrl)("/settings/api/personal/webauthn/registration"),t.next=3,p.default.get(e);case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t,e){return m.apply(this,arguments)}function m(){return(m=v(regeneratorRuntime.mark((function t(e,n){var r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,h.generateUrl)("/settings/api/personal/webauthn/registration"),t.next=3,p.default.post(r,{name:e,data:n});case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return w.apply(this,arguments)}function w(){return(w=v(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,h.generateUrl)("/settings/api/personal/webauthn/registration/".concat(e)),t.next=3,p.default.delete(n);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var R=function(t){return function(e){return l.debug(t),e}},C=Object.freeze({READY:1,REGISTRATION:2,NAMING:3,PERSIST:4}),N={name:"AddDevice",props:{httpWarning:Boolean,isHttps:{type:Boolean,default:!1},isLocalhost:{type:Boolean,default:!1}},data:function(){return{name:"",credential:{},RegistrationSteps:C,step:C.READY}},methods:{arrayToBase64String:function(t){return btoa(String.fromCharCode.apply(String,function(t){if(Array.isArray(t))return S(t)}(e=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));var e},start:function(){var t=this;return this.step=C.REGISTRATION,console.debug("Starting WebAuthn registration"),(0,s.confirmPassword)().then(this.getRegistrationData).then(this.register.bind(this)).then((function(){t.step=C.NAMING})).catch((function(e){console.error(e.name,e.message),t.step=C.READY}))},getRegistrationData:function(){return console.debug("Fetching webauthn registration data"),function(){return f.apply(this,arguments)}().then((function(t){return console.debug(t),t.challenge=Uint8Array.from(function(t){var e=(t=t.replace(/-/g,"+").replace(/_/g,"/")).length%4;if(e){if(1===e)throw new Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");t+=new Array(5-e).join("=")}return window.atob(t)}(t.challenge),(function(t){return t.charCodeAt(0)})),t.user.id=Uint8Array.from(t.user.id,(function(t){return t.charCodeAt(0)})),t})).catch((function(e){throw console.error("Error getting webauthn registration data from server",e),new Error(t("settings","Server error while trying to add WebAuthn device"))}))},register:function(t){var e=this;return console.debug("starting webauthn registration"),navigator.credentials.create({publicKey:t}).then((function(t){e.credential={id:t.id,type:t.type,rawId:e.arrayToBase64String(new Uint8Array(t.rawId)),response:{clientDataJSON:e.arrayToBase64String(new Uint8Array(t.response.clientDataJSON)),attestationObject:e.arrayToBase64String(new Uint8Array(t.response.attestationObject))}}}))},submit:function(){var t=this;return this.step=C.PERSIST,(0,s.confirmPassword)().then(R("confirmed password")).then(this.saveRegistrationData).then(R("registration data saved")).then((function(){return t.reset()})).then(R("app reset")).catch(console.error.bind(this))},saveRegistrationData:function(){var e,n=this;return(e=regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(n.name,JSON.stringify(n.credential));case 3:r=e.sent,l.info("new device added",{device:r}),n.$emit("added",r),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),l.error("Error persisting webauthn registration",{error:e.t0}),new Error(t("settings","Server error while trying to complete WebAuthn device registration"));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(t){y(a,r,i,o,s,"next",t)}function s(t){y(a,r,i,o,s,"throw",t)}o(void 0)}))})()},reset:function(){this.name="",this.registrationData={},this.step=C.READY}}},T=N,_=r(93379),P=r.n(_),I=r(7795),D=r.n(I),x=r(90569),E=r.n(x),O=r(3565),B=r.n(O),k=r(19216),U=r.n(k),G=r(44589),W=r.n(G),L=r(55502),Y={};Y.styleTagTransform=W(),Y.setAttributes=B(),Y.insert=E().bind(null,"head"),Y.domAPI=D(),Y.insertStyleElement=U(),P()(L.Z,Y),L.Z&&L.Z.locals&&L.Z.locals;var j=r(51900),K=(0,j.Z)(T,d,[],!1,null,"15f8a53b",null);K.options.__file="apps/settings/src/components/WebAuthn/AddDevice.vue";var Z=K.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"webauthn-device"},[n("span",{staticClass:"icon-webauthn-device"}),t._v("\n\t"+t._s(t.name||t.t("settings","Unnamed device"))+"\n\t"),n("NcActions",{attrs:{"force-menu":!0}},[n("NcActionButton",{attrs:{icon:"icon-delete"},on:{click:function(e){return t.$emit("delete")}}},[t._v("\n\t\t\t"+t._s(t.t("settings","Delete"))+"\n\t\t")])],1)],1)};F._withStripped=!0;var M=r(12945),q=r.n(M),H=r(45400),$={name:"Device",components:{NcActionButton:r.n(H)(),NcActions:q()},props:{name:{type:String,required:!0}}},z=r(86530),J={};J.styleTagTransform=W(),J.setAttributes=B(),J.insert=E().bind(null,"head"),J.domAPI=D(),J.insertStyleElement=U(),P()(z.Z,J),z.Z&&z.Z.locals&&z.Z.locals;var Q=(0,j.Z)($,F,[],!1,null,"1b250cbc",null);Q.options.__file="apps/settings/src/components/WebAuthn/Device.vue";var V=Q.exports;function X(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}var tt=u()("name"),et={components:{AddDevice:Z,Device:V},props:{initialDevices:{type:Array,required:!0},isHttps:{type:Boolean,default:!1},isLocalhost:{type:Boolean,default:!1},hasPublicKeyCredential:{type:Boolean,default:!1}},data:function(){return{devices:this.initialDevices}},computed:{sortedDevices:function(){return tt(this.devices)}},methods:{deviceAdded:function(t){l.debug("adding new device to the list ".concat(t.id)),this.devices.push(t)},deleteDevice:function(t){var e,n=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.info("deleting webauthn device ".concat(t)),e.next=3,(0,s.confirmPassword)();case 3:return e.next=5,b(t);case 5:n.devices=n.devices.filter((function(e){return e.id!==t})),l.info("webauthn device ".concat(t," removed successfully"));case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(t){X(a,r,i,o,s,"next",t)}function s(t){X(a,r,i,o,s,"throw",t)}o(void 0)}))})()}}},nt=et,rt=(0,j.Z)(nt,o,[],!1,null,"47c82c6e",null);rt.options.__file="apps/settings/src/components/WebAuthn/Section.vue";var it=rt.exports;r.nc=btoa(OC.requestToken),i.ZP.prototype.t=t,new(i.ZP.extend(it))({propsData:{initialDevices:(0,a.loadState)("settings","webauthn-devices"),isHttps:"https:"===window.location.protocol,isLocalhost:"localhost"===window.location.hostname,hasPublicKeyCredential:void 0!==window.PublicKeyCredential}}).$mount("#security-webauthn")},55502:function(t,e,n){var r=n(87537),i=n.n(r),a=n(23645),o=n.n(a)()(i());o.push([t.id,"\n.webauthn-loading[data-v-15f8a53b] {\n\tdisplay: inline-block;\n\tvertical-align: sub;\n\tmargin-left: 2px;\n\tmargin-right: 2px;\n}\n.new-webauthn-device[data-v-15f8a53b] {\n\tline-height: 300%;\n}\n","",{version:3,sources:["webpack://./apps/settings/src/components/WebAuthn/AddDevice.vue"],names:[],mappings:";AAiNA;CACA,qBAAA;CACA,mBAAA;CACA,gBAAA;CACA,iBAAA;AACA;AAEA;CACA,iBAAA;AACA",sourcesContent:["\x3c!--\r\n  - @copyright 2020, Roeland Jago Douma <roeland@famdouma.nl>\r\n  -\r\n  - @author Roeland Jago Douma <roeland@famdouma.nl>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n  --\x3e\r\n\r\n<template>\r\n\t<div v-if=\"!isHttps && !isLocalhost\">\r\n\t\t{{ t('settings', 'Passwordless authentication requires a secure connection.') }}\r\n\t</div>\r\n\t<div v-else>\r\n\t\t<div v-if=\"step === RegistrationSteps.READY\">\r\n\t\t\t<button @click=\"start\">\r\n\t\t\t\t{{ t('settings', 'Add WebAuthn device') }}\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t\t<div v-else-if=\"step === RegistrationSteps.REGISTRATION\"\r\n\t\t\tclass=\"new-webauthn-device\">\r\n\t\t\t<span class=\"icon-loading-small webauthn-loading\" />\r\n\t\t\t{{ t('settings', 'Please authorize your WebAuthn device.') }}\r\n\t\t</div>\r\n\r\n\t\t<div v-else-if=\"step === RegistrationSteps.NAMING\"\r\n\t\t\tclass=\"new-webauthn-device\">\r\n\t\t\t<span class=\"icon-loading-small webauthn-loading\" />\r\n\t\t\t<input v-model=\"name\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\t:placeholder=\"t('settings', 'Name your device')\"\r\n\t\t\t\t@:keyup.enter=\"submit\">\r\n\t\t\t<button @click=\"submit\">\r\n\t\t\t\t{{ t('settings', 'Add') }}\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t\t<div v-else-if=\"step === RegistrationSteps.PERSIST\"\r\n\t\t\tclass=\"new-webauthn-device\">\r\n\t\t\t<span class=\"icon-loading-small webauthn-loading\" />\r\n\t\t\t{{ t('settings', 'Adding your device â€¦') }}\r\n\t\t</div>\r\n\r\n\t\t<div v-else>\r\n\t\t\tInvalid registration step. This should not have happened.\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { confirmPassword } from '@nextcloud/password-confirmation'\r\nimport '@nextcloud/password-confirmation/dist/style.css'\r\n\r\nimport logger from '../../logger'\r\nimport {\r\n\tstartRegistration,\r\n\tfinishRegistration,\r\n} from '../../service/WebAuthnRegistrationSerice'\r\n\r\nconst logAndPass = (text) => (data) => {\r\n\tlogger.debug(text)\r\n\treturn data\r\n}\r\n\r\nconst RegistrationSteps = Object.freeze({\r\n\tREADY: 1,\r\n\tREGISTRATION: 2,\r\n\tNAMING: 3,\r\n\tPERSIST: 4,\r\n})\r\n\r\nexport default {\r\n\tname: 'AddDevice',\r\n\tprops: {\r\n\t\thttpWarning: Boolean,\r\n\t\tisHttps: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tisLocalhost: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tname: '',\r\n\t\t\tcredential: {},\r\n\t\t\tRegistrationSteps,\r\n\t\t\tstep: RegistrationSteps.READY,\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tarrayToBase64String(a) {\r\n\t\t\treturn btoa(String.fromCharCode(...a))\r\n\t\t},\r\n\t\tstart() {\r\n\t\t\tthis.step = RegistrationSteps.REGISTRATION\r\n\t\t\tconsole.debug('Starting WebAuthn registration')\r\n\r\n\t\t\treturn confirmPassword()\r\n\t\t\t\t.then(this.getRegistrationData)\r\n\t\t\t\t.then(this.register.bind(this))\r\n\t\t\t\t.then(() => { this.step = RegistrationSteps.NAMING })\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(err.name, err.message)\r\n\t\t\t\t\tthis.step = RegistrationSteps.READY\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\tgetRegistrationData() {\r\n\t\t\tconsole.debug('Fetching webauthn registration data')\r\n\r\n\t\t\tconst base64urlDecode = function(input) {\r\n\t\t\t\t// Replace non-url compatible chars with base64 standard chars\r\n\t\t\t\tinput = input\r\n\t\t\t\t\t.replace(/-/g, '+')\r\n\t\t\t\t\t.replace(/_/g, '/')\r\n\r\n\t\t\t\t// Pad out with standard base64 required padding characters\r\n\t\t\t\tconst pad = input.length % 4\r\n\t\t\t\tif (pad) {\r\n\t\t\t\t\tif (pad === 1) {\r\n\t\t\t\t\t\tthrow new Error('InvalidLengthError: Input base64url string is the wrong length to determine padding')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinput += new Array(5 - pad).join('=')\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn window.atob(input)\r\n\t\t\t}\r\n\r\n\t\t\treturn startRegistration()\r\n\t\t\t\t.then(publicKey => {\r\n\t\t\t\t\tconsole.debug(publicKey)\r\n\t\t\t\t\tpublicKey.challenge = Uint8Array.from(base64urlDecode(publicKey.challenge), c => c.charCodeAt(0))\r\n\t\t\t\t\tpublicKey.user.id = Uint8Array.from(publicKey.user.id, c => c.charCodeAt(0))\r\n\t\t\t\t\treturn publicKey\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error('Error getting webauthn registration data from server', err)\r\n\t\t\t\t\tthrow new Error(t('settings', 'Server error while trying to add WebAuthn device'))\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\tregister(publicKey) {\r\n\t\t\tconsole.debug('starting webauthn registration')\r\n\r\n\t\t\treturn navigator.credentials.create({ publicKey })\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tthis.credential = {\r\n\t\t\t\t\t\tid: data.id,\r\n\t\t\t\t\t\ttype: data.type,\r\n\t\t\t\t\t\trawId: this.arrayToBase64String(new Uint8Array(data.rawId)),\r\n\t\t\t\t\t\tresponse: {\r\n\t\t\t\t\t\t\tclientDataJSON: this.arrayToBase64String(new Uint8Array(data.response.clientDataJSON)),\r\n\t\t\t\t\t\t\tattestationObject: this.arrayToBase64String(new Uint8Array(data.response.attestationObject)),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\tsubmit() {\r\n\t\t\tthis.step = RegistrationSteps.PERSIST\r\n\r\n\t\t\treturn confirmPassword()\r\n\t\t\t\t.then(logAndPass('confirmed password'))\r\n\t\t\t\t.then(this.saveRegistrationData)\r\n\t\t\t\t.then(logAndPass('registration data saved'))\r\n\t\t\t\t.then(() => this.reset())\r\n\t\t\t\t.then(logAndPass('app reset'))\r\n\t\t\t\t.catch(console.error.bind(this))\r\n\t\t},\r\n\r\n\t\tasync saveRegistrationData() {\r\n\t\t\ttry {\r\n\t\t\t\tconst device = await finishRegistration(this.name, JSON.stringify(this.credential))\r\n\r\n\t\t\t\tlogger.info('new device added', { device })\r\n\r\n\t\t\t\tthis.$emit('added', device)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tlogger.error('Error persisting webauthn registration', { error: err })\r\n\t\t\t\tthrow new Error(t('settings', 'Server error while trying to complete WebAuthn device registration'))\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\treset() {\r\n\t\t\tthis.name = ''\r\n\t\t\tthis.registrationData = {}\r\n\t\t\tthis.step = RegistrationSteps.READY\r\n\t\t},\r\n\t},\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n\t.webauthn-loading {\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: sub;\r\n\t\tmargin-left: 2px;\r\n\t\tmargin-right: 2px;\r\n\t}\r\n\r\n\t.new-webauthn-device {\r\n\t\tline-height: 300%;\r\n\t}\r\n</style>\r\n"],sourceRoot:""}]),e.Z=o},86530:function(t,e,n){var r=n(87537),i=n.n(r),a=n(23645),o=n.n(a)()(i());o.push([t.id,"\n.webauthn-device[data-v-1b250cbc] {\n\tline-height: 300%;\n\tdisplay: flex;\n}\n.icon-webauthn-device[data-v-1b250cbc] {\n\tdisplay: inline-block;\n\tbackground-size: 100%;\n\tpadding: 3px;\n\tmargin: 3px;\n}\n","",{version:3,sources:["webpack://./apps/settings/src/components/WebAuthn/Device.vue"],names:[],mappings:";AAqDA;CACA,iBAAA;CACA,aAAA;AACA;AAEA;CACA,qBAAA;CACA,qBAAA;CACA,YAAA;CACA,WAAA;AACA",sourcesContent:["\x3c!--\r\n  - @copyright 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n  -\r\n  - @author 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n  -\r\n  - @license GNU AGPL version 3 or any later version\r\n  -\r\n  - This program is free software: you can redistribute it and/or modify\r\n  - it under the terms of the GNU Affero General Public License as\r\n  - published by the Free Software Foundation, either version 3 of the\r\n  - License, or (at your option) any later version.\r\n  -\r\n  - This program is distributed in the hope that it will be useful,\r\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  - GNU Affero General Public License for more details.\r\n  -\r\n  - You should have received a copy of the GNU Affero General Public License\r\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n  --\x3e\r\n\r\n<template>\r\n\t<div class=\"webauthn-device\">\r\n\t\t<span class=\"icon-webauthn-device\" />\r\n\t\t{{ name || t('settings', 'Unnamed device') }}\r\n\t\t<NcActions :force-menu=\"true\">\r\n\t\t\t<NcActionButton icon=\"icon-delete\" @click=\"$emit('delete')\">\r\n\t\t\t\t{{ t('settings', 'Delete') }}\r\n\t\t\t</NcActionButton>\r\n\t\t</NcActions>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport NcActions from '@nextcloud/vue/dist/Components/NcActions'\r\nimport NcActionButton from '@nextcloud/vue/dist/Components/NcActionButton'\r\n\r\nexport default {\r\n\tname: 'Device',\r\n\tcomponents: {\r\n\t\tNcActionButton,\r\n\t\tNcActions,\r\n\t},\r\n\tprops: {\r\n\t\tname: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t},\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n\t.webauthn-device {\r\n\t\tline-height: 300%;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.icon-webauthn-device {\r\n\t\tdisplay: inline-block;\r\n\t\tbackground-size: 100%;\r\n\t\tpadding: 3px;\r\n\t\tmargin: 3px;\r\n\t}\r\n</style>\r\n"],sourceRoot:""}]),e.Z=o}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var a=r[t]={id:t,loaded:!1,exports:{}};return n[t].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.m=n,i.amdD=function(){throw new Error("define cannot be used indirect")},i.amdO={},e=[],i.O=function(t,n,r,a){if(!n){var o=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],a=e[d][2];for(var s=!0,c=0;c<n.length;c++)(!1&a||o>=a)&&Object.keys(i.O).every((function(t){return i.O[t](n[c])}))?n.splice(c--,1):(s=!1,a<o&&(o=a));if(s){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,r,a]},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},i.j=1602,function(){i.b=document.baseURI||self.location.href;var t={1602:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,a,o=n[0],s=n[1],c=n[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);if(c)var d=c(i)}for(e&&e(n);u<o.length;u++)a=o[u],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(d)},n=self.webpackChunknextcloud=self.webpackChunknextcloud||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),i.nc=void 0;var a=i.O(void 0,[7874],(function(){return i(57077)}));a=i.O(a)}();
//# sourceMappingURL=settings-vue-settings-personal-webauthn.js.map?v=6c3380658c6e4d083ed9